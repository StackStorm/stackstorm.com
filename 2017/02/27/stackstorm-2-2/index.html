<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>StackStorm 2.2 is up! | StackStorm</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Feb 27, 2017
by Lindsay Hill
Here’s a nice way to start your week: StackStorm 2.2 has been released! Mistral updates, Jinja in Mistral workflows, Jinja in complex objects, new st2 login and st2 whoami commands, security improvements and more! Our release master put in some hard work over the last few days to get this out the door. Read on for more details.">
    <meta name="generator" content="Hugo 0.89.2" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
<link rel="stylesheet" href="/stackstorm.com/ananke/css/main.min.css" >




    
      

    

    
    
    <meta property="og:title" content="StackStorm 2.2 is up!" />
<meta property="og:description" content="Feb 27, 2017
by Lindsay Hill
Here’s a nice way to start your week: StackStorm 2.2 has been released! Mistral updates, Jinja in Mistral workflows, Jinja in complex objects, new st2 login and st2 whoami commands, security improvements and more! Our release master put in some hard work over the last few days to get this out the door. Read on for more details." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://stackstorm.github.io/stackstorm.com/2017/02/27/stackstorm-2-2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-02-27T20:38:58+00:00" />
<meta property="article:modified_time" content="2017-02-27T20:38:58+00:00" />

<meta itemprop="name" content="StackStorm 2.2 is up!">
<meta itemprop="description" content="Feb 27, 2017
by Lindsay Hill
Here’s a nice way to start your week: StackStorm 2.2 has been released! Mistral updates, Jinja in Mistral workflows, Jinja in complex objects, new st2 login and st2 whoami commands, security improvements and more! Our release master put in some hard work over the last few days to get this out the door. Read on for more details."><meta itemprop="datePublished" content="2017-02-27T20:38:58+00:00" />
<meta itemprop="dateModified" content="2017-02-27T20:38:58+00:00" />
<meta itemprop="wordCount" content="987">
<meta itemprop="keywords" content="release,StackStorm," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="StackStorm 2.2 is up!"/>
<meta name="twitter:description" content="Feb 27, 2017
by Lindsay Hill
Here’s a nice way to start your week: StackStorm 2.2 has been released! Mistral updates, Jinja in Mistral workflows, Jinja in complex objects, new st2 login and st2 whoami commands, security improvements and more! Our release master put in some hard work over the last few days to get this out the door. Read on for more details."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/stackstorm.com/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        StackStorm
      
    </a>
    <div class="flex-l items-center">
      

      
      















    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      




  <div id="sharing" class="mt3">

    
    <a href="https://www.facebook.com/sharer.php?u=https://stackstorm.github.io/stackstorm.com/2017/02/27/stackstorm-2-2/" class="facebook no-underline" aria-label="share on Facebook">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

    </a>

    
    
    <a href="https://twitter.com/share?url=https://stackstorm.github.io/stackstorm.com/2017/02/27/stackstorm-2-2/&amp;text=StackStorm%202.2%20is%20up!" class="twitter no-underline" aria-label="share on Twitter">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

    </a>

    
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://stackstorm.github.io/stackstorm.com/2017/02/27/stackstorm-2-2/&amp;title=StackStorm%202.2%20is%20up!" class="linkedin no-underline" aria-label="share on LinkedIn">
      <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

    </a>
  </div>


      <h1 class="f1 athelas mt3 mb1">StackStorm 2.2 is up!</h1>
      
      <p class="tracked">
          By <strong>
          
              st2admin
          
          </strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2017-02-27T20:38:58Z">February 27, 2017</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p><strong>Feb 27, 2017</strong><br>
<em>by Lindsay Hill</em></p>
<p>Here’s a nice way to start your week: StackStorm 2.2 has been released! Mistral updates, Jinja in Mistral workflows, Jinja in complex objects, new <code>st2 login</code> and <code>st2 whoami</code> commands, security improvements and more! Our <a href="https://github.com/Mierdin">release master</a> put in some hard work over the last few days to get this out the door. Read on for more details.</p>
<h2 id="jinja-enhancements">Jinja Enhancements</h2>
<p>You asked, we’ve delivered: You can now use Jinja expressions in Mistral workflows, wherever YAQL expressions are accepted. This lets you do things like manipulate the input &amp; output data structures, perform boolean logic, and and conditional logic for evaluating and transforming data. Each expression should be encapsulated with <code>{{ }}</code>. Here’s an example that shows how to work with environment variables:</p>
<!-- raw HTML omitted -->
<pre><code>            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
              &lt;span class=&quot;pl-ent&quot;&gt;version&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;2.0&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;&lt;/span&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
          
          &lt;tr&gt;
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;
            &lt;/td&gt;
            
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
          
          &lt;tr&gt;
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;
            &lt;/td&gt;
            
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
              &lt;span class=&quot;pl-ent&quot;&gt;examples.mistral-jinja-env-var&lt;/span&gt;:
            &lt;/td&gt;
          &lt;/tr&gt;
          
          &lt;tr&gt;
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;
            &lt;/td&gt;
            
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
              &lt;span class=&quot;pl-ent&quot;&gt;description&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;A basic workflow that illustrates how to get the workflow's env vars.&lt;/span&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
          
          &lt;tr&gt;
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;
            &lt;/td&gt;
            
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
              &lt;span class=&quot;pl-ent&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;direct&lt;/span&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
          
          &lt;tr&gt;
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;
            &lt;/td&gt;
            
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
              &lt;span class=&quot;pl-ent&quot;&gt;output&lt;/span&gt;:
            &lt;/td&gt;
          &lt;/tr&gt;
          
          &lt;tr&gt;
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;
            &lt;/td&gt;
            
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
              &lt;span class=&quot;pl-ent&quot;&gt;env&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;{{ env() }}&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
          
          &lt;tr&gt;
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;
            &lt;/td&gt;
            
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
              &lt;span class=&quot;pl-ent&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;{{ _.url }}&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
          
          &lt;tr&gt;
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;
            &lt;/td&gt;
            
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
              &lt;span class=&quot;pl-ent&quot;&gt;tasks&lt;/span&gt;:
            &lt;/td&gt;
          &lt;/tr&gt;
          
          &lt;tr&gt;
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;
            &lt;/td&gt;
            
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
              &lt;span class=&quot;pl-ent&quot;&gt;task1&lt;/span&gt;:
            &lt;/td&gt;
          &lt;/tr&gt;
          
          &lt;tr&gt;
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;
            &lt;/td&gt;
            
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
              &lt;span class=&quot;pl-ent&quot;&gt;action&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;core.local&lt;/span&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
          
          &lt;tr&gt;
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;
            &lt;/td&gt;
            
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
              &lt;span class=&quot;pl-ent&quot;&gt;input&lt;/span&gt;:
            &lt;/td&gt;
          &lt;/tr&gt;
          
          &lt;tr&gt;
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;
            &lt;/td&gt;
            
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
              &lt;span class=&quot;pl-ent&quot;&gt;cmd&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;echo http://127.0.0.1:9101/executions/{{ env().st2_execution_id }}&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
          
          &lt;tr&gt;
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;&gt;
            &lt;/td&gt;
            
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
              &lt;span class=&quot;pl-ent&quot;&gt;publish&lt;/span&gt;:
            &lt;/td&gt;
          &lt;/tr&gt;
          
          &lt;tr&gt;
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;&gt;
            &lt;/td&gt;
            
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
              &lt;span class=&quot;pl-ent&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;{{ task('task1').result.stdout }}&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
          
          &lt;tr&gt;
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-L16&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;16&quot;&gt;
            &lt;/td&gt;
            
            &lt;td id=&quot;file-mistral-jinja-env-var-yaml-LC16&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
              &lt;span class=&quot;pl-ent&quot;&gt;ctx&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;{{ env()['__actions']['st2.action']['st2_context'] }}&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
        &lt;/table&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;gist-meta&quot;&gt;
  &lt;a href=&quot;https://gist.github.com/LindsayHill/cf72d9e386c9519c2cddfc62eecd3b09/raw/17962189dced9964eb9c8fa5357debe8e378878c/mistral-jinja-env-var.yaml&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt; &lt;a href=&quot;https://gist.github.com/LindsayHill/cf72d9e386c9519c2cddfc62eecd3b09#file-mistral-jinja-env-var-yaml&quot;&gt;mistral-jinja-env-var.yaml&lt;/a&gt; hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
&lt;/div&gt;
</code></pre>
<!-- raw HTML omitted -->
<p>Read the <a href="https://docs.stackstorm.com/mistral_jinja.html">docs</a>, and check the <a href="https://github.com/StackStorm/st2/tree/master/contrib/examples/actions/workflows/">examples</a> for more info.</p>
<p>Also: You can now nest Jinja variables inside array and object types.</p>
<p>Don’t worry though: YAQL is not going anywhere. It’s still there, and will continue to have first-class support, for those need its power and type support.</p>
<h2 id="mistral-updates">Mistral Updates</h2>
<p>As you know, we use and contribute to the <a href="https://wiki.openstack.org/wiki/Mistral">OpenStack Mistral</a> service for complex workflows in StackStorm. With this release we’ve updated our fork to the latest master branch. We’ve been wanting to do this for a while, as it brings us stability improvements, weeds out some corner-case deadlocks, and delivers performance enhancements. Thanks to <a href="https://github.com/rakhmerov">Renat</a> and <a href="https://github.com/openstack/mistral/graphs/contributors">all the crew</a> for the good work they’re doing.</p>
<h2 id="cli-authentication-helpers">CLI Authentication helpers</h2>
<p>Want to authenticate to ST2 using the CLI, but don’t like storing your password in plaintext in your config file? Check out the new <a href="https://docs.stackstorm.com/reference/cli.html?highlight=whoami#authentication-and-auth-token-caching"><code>st2 login</code></a> command. This is an easy way to login and cache your authentication token. Just run <code>st2 login st2admin --password Ch@ngeMe</code>.</p>
<p>This also gives you a quick way to switch user. Need to check which user you’re logged in as? Use the new <code>st2 whoami</code> command to check!</p>
<h2 id="security-hardening">Security Hardening</h2>
<p>We’ve been doing some housekeeping, and we’ve tightened our default settings used by our installer script:</p>
<ul>
<li>MongoDB now only listens on localhost, and creates two new users <code>admin</code> and <code>stackstorm</code>. The <code>stackstorm</code> user only has access to the <code>st2</code> database.</li>
<li>RabbitMQ now only listens on localhost.</li>
<li>PostgreSQL only listens on localhost (this was already a default on some distributions).</li>
<li>Mistral now uses a random password for PostgreSQL authentication.</li>
</ul>
<p>This further reduces the default attack surface. If you’re doing a manual install of StackStorm, be sure to read the new <a href="https://docs.stackstorm.com/install/deb.html#a-note-on-security">Security section</a>.</p>
<h2 id="miscellaneous-fixes-and-improvements">Miscellaneous Fixes and Improvements</h2>
<p>The usual collection of smaller changes:</p>
<ul>
<li>Validation of trigger parameters and payloads is now available. You will need to enable the <code>system.validate_trigger_payload</code> and <code>system.validate_trigger_parameters</code> options to use it – it is disabled by default. Thanks to Hiroyasu Ohyama for the contribution.</li>
<li>We now support MongoDB 3.4. The installation script will still install 3.2 by default, but you are welcome to move to 3.4. In future we will make 3.4 the default version.</li>
<li>RPM packaging fixes: The logrotate and LDAP configurations will no longer be removed on RPM upgrade.</li>
<li><code>st2 pack install</code> will now work with git repositories that do not use <code>master</code> as the default branch.</li>
</ul>
<h2 id="upgrade-warnings">Upgrade Warnings</h2>
<p>We previously warned that the <code>system</code> and <code>user</code> Jinja variable notation for accessing system and user scoped datastore items inside workflows and actions is going away and be replaced by the new <code>st2kv.system</code> and <code>st2kv.user</code> notation.</p>
<p>Well, that time has arrived. Now you really do need to update your actions and workflows to use the new scoping notation.</p>
<p>The database schema for Mistral has changed. The <code>executions_v2</code> table is no longer used. The table has been broken down into <code>workflow_executions_v2</code>, <code>task_executions_v2</code>, and <code>action_executions_v2</code>. There is currently no migration script to move existing records from executions_v2 into the new tables. If you really need to read from executions_v2, either use psql or install an older version of the python-mistralclient.</p>
<p>As always, full changelogs are <a href="https://docs.stackstorm.com/changelog.html#february-22-2017">here</a>, full upgrade notes are <a href="https://docs.stackstorm.com/upgrade_notes.html">here</a>, and we are always available to help on our <a href="https://stackstorm-community.slack.com">Slack channel</a>. Sign up <a href="https://stackstorm.com/community-signup">here</a>.</p><ul class="pa0">
  
   <li class="list">
     <a href="/stackstorm.com/tags/release" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">release</a>
   </li>
  
   <li class="list">
     <a href="/stackstorm.com/tags/stackstorm" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">StackStorm</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/stackstorm.com/2017/02/02/introducing-ansible-playbooks-deploy-stackstorm/">Introducing Ansible playbooks to deploy StackStorm</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2017/01/31/stackstorm-exchange-new-pack-management/">StackStorm Exchange: The New Pack Management</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2017/01/24/innovation-at-dimension-data-event-driven-automation/">Innovation at Dimension Data: Accelerating Innovation and Digital Transformation with StackStorm Event Driven Automation</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/12/20/quick-update-v2-1-1-published/">Quick update: v2.1.1 published</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/12/06/2-1-new-pack-management/">2.1 is here! New Pack Management and More!</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/11/29/2-1-headsup/">2.1 is Coming to Town: Check the New Pack Management</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/11/15/genomics-sequencing-stackstorm-reading-source-code-biology/">Genomics Sequencing, StackStorm, and Reading the Source Code of Biology</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/11/14/iot-event-driven-automation-supercomputing16/">Unleash the power of IoT with Event-Driven Automation (ST2 &amp; BWC @ SuperComputing16)</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/09/30/minor-update-v2-0-1/">Minor update: v2.0.1</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/09/01/stackstorm-enterprise-back/">StackStorm Enterprise is Back!</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/08/23/summary-brocade-workflow-composer-nfd-12/">Summary – Brocade Workflow Composer at NFD 12</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/08/10/stackstorm-v1-6-0/">StackStorm v1.6.0 is here</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/06/27/stackstorm-v1-5-alive/">StackStorm v1.5 is alive!</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/04/20/stackstorm-v1-4/">StackStorm v1.4 is out</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/04/11/two-weeks-brocade/">Two weeks in Brocade: “from team of 10 to 4,000!”</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://stackstorm.github.io/stackstorm.com" >
    &copy;  StackStorm 2021 
  </a>
    <div>














</div>
  </div>
</footer>

  </body>
</html>
