<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Ansible playbooks to deploy StackStorm: BWC, ChatOps and more | StackStorm</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="May 15, 2017 by Eugen C. (@armab)

As you may know, previously we announced availability of Ansible production-friendly playbooks to install &amp; configure StackStorm for cases when our demo bash installer wasn’t sufficient.
With the new release github.com/StackStorm/ansible-st2 v0.7.0 you can do even more!
This version includes new bwc and st2chatops roles, features like passing settings to st2.conf, enhancements to use custom SSL certificate for st2web, more documentation use-cases, some breaking changes and of course, bug fixes.">
    <meta name="generator" content="Hugo 0.89.2" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
<link rel="stylesheet" href="/stackstorm.com/ananke/css/main.min.css" >




    
      

    

    
    
    <meta property="og:title" content="Ansible playbooks to deploy StackStorm: BWC, ChatOps and more" />
<meta property="og:description" content="May 15, 2017 by Eugen C. (@armab)

As you may know, previously we announced availability of Ansible production-friendly playbooks to install &amp; configure StackStorm for cases when our demo bash installer wasn’t sufficient.
With the new release github.com/StackStorm/ansible-st2 v0.7.0 you can do even more!
This version includes new bwc and st2chatops roles, features like passing settings to st2.conf, enhancements to use custom SSL certificate for st2web, more documentation use-cases, some breaking changes and of course, bug fixes." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://stackstorm.github.io/stackstorm.com/2017/05/15/ansible-playbooks-to-deploy-stackstorm-v0-7-0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-05-15T19:19:14+00:00" />
<meta property="article:modified_time" content="2017-05-15T19:19:14+00:00" />

<meta itemprop="name" content="Ansible playbooks to deploy StackStorm: BWC, ChatOps and more">
<meta itemprop="description" content="May 15, 2017 by Eugen C. (@armab)

As you may know, previously we announced availability of Ansible production-friendly playbooks to install &amp; configure StackStorm for cases when our demo bash installer wasn’t sufficient.
With the new release github.com/StackStorm/ansible-st2 v0.7.0 you can do even more!
This version includes new bwc and st2chatops roles, features like passing settings to st2.conf, enhancements to use custom SSL certificate for st2web, more documentation use-cases, some breaking changes and of course, bug fixes."><meta itemprop="datePublished" content="2017-05-15T19:19:14+00:00" />
<meta itemprop="dateModified" content="2017-05-15T19:19:14+00:00" />
<meta itemprop="wordCount" content="421">
<meta itemprop="keywords" content="ansible,ansible-st2,configuration management,deployment,playbooks,release announcement," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Ansible playbooks to deploy StackStorm: BWC, ChatOps and more"/>
<meta name="twitter:description" content="May 15, 2017 by Eugen C. (@armab)

As you may know, previously we announced availability of Ansible production-friendly playbooks to install &amp; configure StackStorm for cases when our demo bash installer wasn’t sufficient.
With the new release github.com/StackStorm/ansible-st2 v0.7.0 you can do even more!
This version includes new bwc and st2chatops roles, features like passing settings to st2.conf, enhancements to use custom SSL certificate for st2web, more documentation use-cases, some breaking changes and of course, bug fixes."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/stackstorm.com/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        StackStorm
      
    </a>
    <div class="flex-l items-center">
      

      
      















    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      




  <div id="sharing" class="mt3">

    
    <a href="https://www.facebook.com/sharer.php?u=https://stackstorm.github.io/stackstorm.com/2017/05/15/ansible-playbooks-to-deploy-stackstorm-v0-7-0/" class="facebook no-underline" aria-label="share on Facebook">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

    </a>

    
    
    <a href="https://twitter.com/share?url=https://stackstorm.github.io/stackstorm.com/2017/05/15/ansible-playbooks-to-deploy-stackstorm-v0-7-0/&amp;text=Ansible%20playbooks%20to%20deploy%20StackStorm:%20BWC,%20ChatOps%20and%20more" class="twitter no-underline" aria-label="share on Twitter">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

    </a>

    
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://stackstorm.github.io/stackstorm.com/2017/05/15/ansible-playbooks-to-deploy-stackstorm-v0-7-0/&amp;title=Ansible%20playbooks%20to%20deploy%20StackStorm:%20BWC,%20ChatOps%20and%20more" class="linkedin no-underline" aria-label="share on LinkedIn">
      <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

    </a>
  </div>


      <h1 class="f1 athelas mt3 mb1">Ansible playbooks to deploy StackStorm: BWC, ChatOps and more</h1>
      
      <p class="tracked">
          By <strong>
          
              Eugen C.
          
          </strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2017-05-15T19:19:14Z">May 15, 2017</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p><strong>May 15, 2017</strong> <em>by Eugen C. (<!-- raw HTML omitted -->@armab<!-- raw HTML omitted -->)</em></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>As you may know, previously we <a href="https://stackstorm.com/2017/02/02/introducing-ansible-playbooks-deploy-stackstorm/">announced</a> availability of Ansible production-friendly playbooks to install &amp; configure StackStorm for cases when our demo <code>bash</code> installer wasn’t sufficient.</p>
<p>With the new release <a href="https://github.com/StackStorm/ansible-st2">github.com/StackStorm/ansible-st2</a> <code>v0.7.0</code> you can do even more!</p>
<p>This version includes new <code>bwc</code> and <code>st2chatops</code> roles, features like passing settings to <code>st2.conf</code>, enhancements to use custom SSL certificate for <code>st2web</code>, more documentation use-cases, some breaking changes and of course, bug fixes.</p>
<h3 id="chatops">ChatOps</h3>
<p>StackStorm ChatOps is rocking, but it wasn’t available as a playbook. Now you can configure ChatOps via Ansible with the new <code>st2chatops</code> role. Thanks to stormer <a href="https://github.com/humblearner">Anirudh Rekhi</a>, you can do this:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>^^ So slick!</p>
<h3 id="stackstormenterprisebwc">StackStorm Enterprise (BWC)</h3>
<p>Our own <a href="https://github.com/lakshmi-kannan/">Lakshmi Kannan</a> has a serious case of <a href="https://en.wikipedia.org/wiki/Fear_of_missing_out">FOMO</a>, and didn’t want to miss the fun others were having with Ansible. So he created a new <code>bwc</code> role.</p>
<p>Here is an example to customize <a href="https://bwc-docs.brocade.com/">Brocade Workflow Composer</a> (BWC) with <a href="https://bwc-docs.brocade.com/authentication.html#ldap">LDAP</a> auth backend and <a href="https://bwc-docs.brocade.com/rbac.html">RBAC</a> configuration to allow/restrict/limit different StackStorm functionality to specific users.</p>
<p>That’s the power of StackStorm Enterprise:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>Massive thing for our enterprise customers. Community users, you can request a trial license <a href="https://stackstorm.com/#ewc">here</a> and try it now!</p>
<h3 id="configurest2confampmistralconfsettings">Configure <code>st2.conf</code> &amp; <code>mistral.conf</code> settings</h3>
<p>With the new <code>st2_config</code> var it’s possible to adjust <em>any</em> <code>st2.conf</code> configuration setting by passing a dict of values to the <code>st2</code> role, like this:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>The Mistral role var <code>st2mistral_config</code> works in the same way.</p>
<p>Super helpful long-waited feature!</p>
<p>This will be especially beneficial for those wanting to configure StackStorm with external services like <code>RabbitMQ</code>, <code>MongoDB</code>. We’ll focus on HA-friendly deployments more in next releases, see for example: <a href="https://github.com/StackStorm/ansible-st2/issues/17">ansible-st2/issues/17</a>.</p>
<h3 id="customcertificateforst2web">Custom certificate for st2web</h3>
<p>By default we generate a self-signed certificate for <code>nginx</code> in <code>st2web</code> role. That’s good just to try it out, but doesn’t work well in real-world production deployments.</p>
<p>If you have a custom, signed SSL certificate, you can pass it now:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>One more step forward to production-friendly configurations.</p>
<h3 id="installingbehindaproxy">Installing behind a proxy</h3>
<p>If you are installing from behind a proxy, you can use the environment variables <code>http_proxy</code>, <code>https_proxy</code>, and <code>no_proxy</code> in the playbook. They will be passed through during the execution.</p>
<p>Thanks <a href="https://github.com/ytjohn">John Hogenmiller</a> for sharing his discoveries and providing the documentation example:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h3 id="community">Community</h3>
<p>I would like to additionally thank our power user <a href="https://github.com/userlocalhost">Hiroyasu OHYAMA</a> who contributed really nice feature requests and fixes for this release. Shout out to everyone in our growing <a href="https://stackstorm.com/community-signup">Slack community</a> for asking questions, helping others, committing Pull Requests.</p>
<p>If you are aware of using Ansible with StackStorm, here is the full <a href="https://github.com/StackStorm/ansible-st2/releases/tag/v0.7.0">ansible-st2 v0.7.0 CHANGELOG</a>.</p><ul class="pa0">
  
   <li class="list">
     <a href="/stackstorm.com/tags/ansible" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">ansible</a>
   </li>
  
   <li class="list">
     <a href="/stackstorm.com/tags/ansible-st2" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">ansible-st2</a>
   </li>
  
   <li class="list">
     <a href="/stackstorm.com/tags/configuration-management" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">configuration management</a>
   </li>
  
   <li class="list">
     <a href="/stackstorm.com/tags/deployment" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">deployment</a>
   </li>
  
   <li class="list">
     <a href="/stackstorm.com/tags/playbooks" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">playbooks</a>
   </li>
  
   <li class="list">
     <a href="/stackstorm.com/tags/release-announcement" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">release announcement</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/stackstorm.com/2017/02/02/introducing-ansible-playbooks-deploy-stackstorm/">Introducing Ansible playbooks to deploy StackStorm</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/12/20/quick-update-v2-1-1-published/">Quick update: v2.1.1 published</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/12/06/2-1-new-pack-management/">2.1 is here! New Pack Management and More!</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/11/29/2-1-headsup/">2.1 is Coming to Town: Check the New Pack Management</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/09/01/stackstorm-enterprise-back/">StackStorm Enterprise is Back!</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/08/10/stackstorm-v1-6-0/">StackStorm v1.6.0 is here</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/07/12/stackstorm-v1-5-1-released/">StackStorm v1.5.1 released</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/?p=5809/">StackStorm &#43; Ansible: Summer Update</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/04/20/stackstorm-v1-4/">StackStorm v1.4 is out</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2015/06/24/ansible-chatops-get-started-%F0%9F%9A%80/">Ansible and ChatOps. Get started 🚀</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/2015/06/05/new-in-stackstorm-ansible-integration/">New In StackStorm: Ansible Integration</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/?p=9569/">Clone of StackStorm v3.4.1 – Security fix</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://stackstorm.github.io/stackstorm.com" >
    &copy;  StackStorm 2021 
  </a>
    <div>














</div>
  </div>
</footer>

  </body>
</html>
