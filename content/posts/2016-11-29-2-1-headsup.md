---
title: '2.1 is Coming to Town: Check the New Pack Management'
author: Dmitri Zimine
type: post
date: 2016-11-30T02:27:05+00:00
url: /2016/11/29/2-1-headsup/
thrive_post_fonts:
  - '[]'
dsq_thread_id:
  - 5342501055
tcb2_ready:
  - 1
categories:
  - Blog
  - Community
tags:
  - integrations
  - release
  - release announcement

---
**by Dmitri Zimine and st2 team**  
_Nov 29, 2016_

Dear stormers and friends!

We are almost ready with a new and quite exciting platform release. This is a big release and we are really looking forward to it, and you should, too &#8211; just check out [exchange.stackstorm.org][1] to get excited about what is coming. As usual, you will soon see an announcement, a blog describing the highlights of what we’ve done, and a back-story on how and why we did it.

This, however, is an unusual &#8220;head&#8217;s up&#8221;. The changes around pack management we are introducing in 2.1 are so substantial that it&#8217;s fair to give you time to review the new features, read the [changelog][2], and adjust your private packs or automation around StackStorm if needed. We&#8217;re inviting you to contribute &#8211; EASILY &#8211; by trying out the new functionality and sharing feedback, or helping us catch last-minute bugs.

The [transition notes are drafted here][3]. The full list of changes is [in the change log][2]. Please help us improve the docs wherever you find them unclear, confusing or imprecise &#8211; we are actively testing as we write this.

The biggest change is introducing [StackStorm Exchange][4]. All integration packs from st2contrib, as well as other packs scattered around, are being moved under [StackStorm Exchange][4]. Once the transfer is complete, you will be submitting your new packs as PRs against [StackStorm-Exchange/exchange-incubator][5] repo, as described in [README.md][6]. Making features and fixes on existing community packs will be much easier now that each pack is in it&#8217;s own GitHub repo.

[<img loading="lazy" src="https://stackstorm.com/wp/wp-content/uploads/2016/11/stackstorm_exchange-1024x944.png" alt="stackstorm_exchange" width="800" height="737" class="aligncenter wp-image-6370" srcset="https://stackstorm.com/wp/wp-content/uploads/2016/11/stackstorm_exchange-1024x944.png 1024w, https://stackstorm.com/wp/wp-content/uploads/2016/11/stackstorm_exchange-150x138.png 150w, https://stackstorm.com/wp/wp-content/uploads/2016/11/stackstorm_exchange-300x276.png 300w, https://stackstorm.com/wp/wp-content/uploads/2016/11/stackstorm_exchange-768x708.png 768w, https://stackstorm.com/wp/wp-content/uploads/2016/11/stackstorm_exchange-80x74.png 80w, https://stackstorm.com/wp/wp-content/uploads/2016/11/stackstorm_exchange-220x203.png 220w, https://stackstorm.com/wp/wp-content/uploads/2016/11/stackstorm_exchange-109x100.png 109w, https://stackstorm.com/wp/wp-content/uploads/2016/11/stackstorm_exchange-163x150.png 163w, https://stackstorm.com/wp/wp-content/uploads/2016/11/stackstorm_exchange-258x238.png 258w, https://stackstorm.com/wp/wp-content/uploads/2016/11/stackstorm_exchange-450x415.png 450w, https://stackstorm.com/wp/wp-content/uploads/2016/11/stackstorm_exchange-528x487.png 528w, https://stackstorm.com/wp/wp-content/uploads/2016/11/stackstorm_exchange-646x595.png 646w, https://stackstorm.com/wp/wp-content/uploads/2016/11/stackstorm_exchange.png 1339w" sizes="(max-width: 800px) 100vw, 800px" />][7]

<p style="text-align: center;">
  Shiny new StackStorm Pack Exchange.
</p>

<!--more-->

The other big change is with the pack management CLI, previously known as the &#8220;packs&#8221; pack. Version 2.1 introduces a new command &#8211; `st2 pack` &#8211; to StackStorm CLI. It contains sub-commands for managing your packs and searching for new ones: try `st2 pack help` for the full listing. The new commands work with the new StackStorm Exchange, as well as with any pack on Github or on private Git servers. We encourage using git: you will see how our new features take advantage of this &#8220;each pack is a git repo&#8221; model.

The `packs` pack is still here, but has been changed to reflect this new model. As a result &#8211; **WARNING!** &#8211; subtree repositories (repositories containing multiple packs inside the `packs/` subdir) are no longer supported. The `subtree` parameter in `packs.install` is removed. If you happen to use subtrees with your private packs, they will have to be split into multiple single-pack repositories in order for `st2 pack install` to be able to install the packs.

There is a lot of advantages to this approach, but what if you prefer a different one? Go for it! The `st2 pack` command, the `packs` pack, and the pack management API endpoints only make up an opinionated layer on top of st2 fundamentals, and you don&#8217;t have to use it. The fundamentals remain intact: place packs under `/opt/stackstorm/packs`, `virtualenv` per pack if they are Python, tell the system to load the content &#8211; and your content is running. If your opinion on &#8220;how many packs should one repo contain&#8221; differs from ours &#8211; suit yourself, use your favorite deployment tool to put the content in the right place, register, and run. Do tell us &#8220;why&#8221; &#8211; we are making design decisions based on what users tell us and want to count your opinion and learn from your way of running StackStorm.

Lastly, for all pack writers: **please validate your custom packs against these two changes**:

  1. The `version` field must conform to semver (semantic versioning): `0.2.5`, not `0.2`. If it does not, the pack registration will throw an error. Please check and update.
  2. The `name` field in pack.yaml should now only contain contain letters, digits, and underscores.^ No dashes! `hpe-icsp` is no good, `hpe_icsp` is fine.

Some other changes to take advantage from:

  * Pack metadata file can now contain a new optional `contributors` field. This field is an array and contains a list of people who have contributed to the pack. These days most of the packs have more than one contributor so `author` field is not sufficient anymore and we want to give credit where credit is due.
  * `stackstorm_version` field has been added. It is optional and can contain a semver string which tells with which versions of StackStorm this pack works with (e.g. `&gt;= 1.6.0, &lt; 2.0.0`, or just `&gt; 1.6.0`). If your pack relies on functionality which is only available in newer versions of StackStorm you can now specify that and users won’t be able to install a pack unless they are running a version which is compatible with the pack.
  * The pack directory or git repository holding the pack no longer have to be named the same as the pack. Packs are no longer named and referenced by the parent directory or git repository containing the pack: `name` or `ref` field from pack.yaml is always used. Name your repository whatever you want (the recommended form for StackStorm Exchange is `stackstorm-pack_name`).

That’s enough for the head’s up, more details in the docs.

Please give this a try. To install the 2.1dev and try the new `st2 pack` along with other goodies &#8211; pick one of:

  * get st2 from the [packagecloud.io/StackStorm/unstable][8] repository &#8211; despite the `unstable` in the name, it will get you something that passed automated tests.
  * Run the install script on your fresh Linux box:  
    `curl -sSL https://stackstorm.com/packages/install.sh | sudo bash -s -- --user=st2admin --password=secret --unstable`
  * The easiest &#8211; get [st2vagrant][9] and run `RELEASE="unstable" ST2PASSWORD="secret" vagrant up`

We are looking forward to your feedback on [StackStorm Slack channel][10] ([registration here][11]), at [support@stackstorm.com](), or in the blog comments right here.

 [1]: https://exchange.stackstorm.org
 [2]: https://docs.stackstorm.com/latest/upgrade_notes.html#st2-in-development
 [3]: https://docs.stackstorm.com/latest/reference/packmgmt.html
 [4]: https://github.com/StackStorm-Exchange/
 [5]: https://github.com/StackStorm-Exchange/exchange-incubator
 [6]: https://github.com/StackStorm-Exchange/exchange-incubator/README.md
 [7]: https://exchange.stackstorm.org/
 [8]: https://packagecloud.io/StackStorm/unstable
 [9]: https://github.com/StackStorm/st2vagrant
 [10]: stackstorm-community.slack.com
 [11]: https://stackstorm.com/community-signup