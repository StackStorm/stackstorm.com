---
title: StackStorm v3.4.0 Released
author: blag
type: post
date: 2021-03-04T20:21:26+00:00
url: /2021/03/04/v3-4-0-released/
thrive_post_fonts:
  - '[]'
categories:
  - Blog
  - Community
  - News
tags:
  - release
  - release announcement

---
**Mar 4, 2021**

_by [@blag][1] and [Amanda McGuinness][2] of [Ammeon Solutions][3]  
_ 



<img loading="lazy" src="https://stackstorm.com/wp/wp-content/uploads/2021/03/stackstorm-v3.4.0-release-1.png" alt="StackStorm v3.4.0 Release" class="aligncenter size-full wp-image-9449" scale="0" width="952" height="204" srcset="https://stackstorm.com/wp/wp-content/uploads/2021/03/stackstorm-v3.4.0-release-1.png 952w, https://stackstorm.com/wp/wp-content/uploads/2021/03/stackstorm-v3.4.0-release-1-150x32.png 150w, https://stackstorm.com/wp/wp-content/uploads/2021/03/stackstorm-v3.4.0-release-1-300x64.png 300w, https://stackstorm.com/wp/wp-content/uploads/2021/03/stackstorm-v3.4.0-release-1-768x165.png 768w, https://stackstorm.com/wp/wp-content/uploads/2021/03/stackstorm-v3.4.0-release-1-80x17.png 80w, https://stackstorm.com/wp/wp-content/uploads/2021/03/stackstorm-v3.4.0-release-1-220x47.png 220w, https://stackstorm.com/wp/wp-content/uploads/2021/03/stackstorm-v3.4.0-release-1-250x54.png 250w, https://stackstorm.com/wp/wp-content/uploads/2021/03/stackstorm-v3.4.0-release-1-280x60.png 280w, https://stackstorm.com/wp/wp-content/uploads/2021/03/stackstorm-v3.4.0-release-1-510x109.png 510w, https://stackstorm.com/wp/wp-content/uploads/2021/03/stackstorm-v3.4.0-release-1-750x161.png 750w" sizes="(max-width: 952px) 100vw, 952px" /> 

<span>It has been more than 4 months since our</span> previous[ <span></span><span>v3.3.0 release</span>][4] and we&#8217;re super excited about this one!

After Extreme Networks [Open-Sourced][5] the EWC Enterprise code last year, this was the most requested and waited release by our Community. In StackStorm v3.4.0 all these goodies have been finally integrated! Besides that, Python 2 Deprecation had happened and many other changes, fixes, and improvements were shipped in v3.4.0.

Let&#8217;s get into the details below.

<!--more-->

_Â _

## Python 3 Only

Following the [Python 2 Deprecation Plan: Say goodbye to python 2][6], since version 3.4, StackStorm code itself will only run on Python 3. For the v3.4 release, we have chosen to run on Python 3.6 across all of our supported platforms. For users still on Ubuntu 16.04, you will need to source your own Python 3.6 packages, but we have been using the Python 3.6 Ubuntu PPA without many issues.

Looking forward to StackStorm 3.5, we will be removing the ability to install Python 2 packs. Note that we will still install packs into their own virtual environments, so pack actions do not necessarily have to run under the same Python version as StackStorm code itself, as long as they support a Python 3 point release.

Regarding packs, by default, StackStorm 3.4 installs packs using Python 3.6. You can forcibly install any old Python 2 packs with <code class="EnlighterJSRAW" data-enlighter-language="null">--force</code> flag, but it will still be setup with a Python 3.6 virtualenv. Additionally, as part of the migration to Python 3, we also updated all packs in StackStorm Exchange to only test with and support Python 3. This allowed us to simplify our CI infrastructure for Exchange packs, and positions us to better support more modern versions of Python 3 in the future.

Please follow the Upgrade Notes for 3.4.0 release from the documentation to understand how the Python migration affects you: <https://docs.stackstorm.com/3.4/install/upgrades.html#v3-4>

## Enterprise Features

#### RBAC and LDAP

In this release, we also integrated the former enterprise-only features: the [LDAP authentication backend][7], and [RBAC authorization backend][8]. You can find more about how to use and configure them on respective StackStorm documentation pages: [Role Based Access Control][9] and [LDAP][10].

#### Workflow Designer

The graphical Workflow Designer is now a built-in component of StackStorm web UI. When viewing an Orquesta workflow in the action list for a pack you can find new &#8220;_+_&#8221; and &#8220;_Edit_&#8221; buttons:

[<img loading="lazy" src="https://stackstorm.com/wp/wp-content/uploads/2021/03/Actions-workflow-designer-buttons_StackStorm_Web_UI_-_2021-03-09_23.38.59-1024x587.png" alt="New Workflow Designer buttons" class="aligncenter size-large wp-image-9440" scale="0" width="1024" height="587" srcset="https://stackstorm.com/wp/wp-content/uploads/2021/03/Actions-workflow-designer-buttons_StackStorm_Web_UI_-_2021-03-09_23.38.59-1024x587.png 1024w, https://stackstorm.com/wp/wp-content/uploads/2021/03/Actions-workflow-designer-buttons_StackStorm_Web_UI_-_2021-03-09_23.38.59-150x86.png 150w, https://stackstorm.com/wp/wp-content/uploads/2021/03/Actions-workflow-designer-buttons_StackStorm_Web_UI_-_2021-03-09_23.38.59-300x172.png 300w, https://stackstorm.com/wp/wp-content/uploads/2021/03/Actions-workflow-designer-buttons_StackStorm_Web_UI_-_2021-03-09_23.38.59-768x440.png 768w, https://stackstorm.com/wp/wp-content/uploads/2021/03/Actions-workflow-designer-buttons_StackStorm_Web_UI_-_2021-03-09_23.38.59-80x46.png 80w, https://stackstorm.com/wp/wp-content/uploads/2021/03/Actions-workflow-designer-buttons_StackStorm_Web_UI_-_2021-03-09_23.38.59-220x126.png 220w, https://stackstorm.com/wp/wp-content/uploads/2021/03/Actions-workflow-designer-buttons_StackStorm_Web_UI_-_2021-03-09_23.38.59-174x100.png 174w, https://stackstorm.com/wp/wp-content/uploads/2021/03/Actions-workflow-designer-buttons_StackStorm_Web_UI_-_2021-03-09_23.38.59-262x150.png 262w, https://stackstorm.com/wp/wp-content/uploads/2021/03/Actions-workflow-designer-buttons_StackStorm_Web_UI_-_2021-03-09_23.38.59-415x238.png 415w, https://stackstorm.com/wp/wp-content/uploads/2021/03/Actions-workflow-designer-buttons_StackStorm_Web_UI_-_2021-03-09_23.38.59-724x415.png 724w, https://stackstorm.com/wp/wp-content/uploads/2021/03/Actions-workflow-designer-buttons_StackStorm_Web_UI_-_2021-03-09_23.38.59-849x487.png 849w, https://stackstorm.com/wp/wp-content/uploads/2021/03/Actions-workflow-designer-buttons_StackStorm_Web_UI_-_2021-03-09_23.38.59-1038x595.png 1038w, https://stackstorm.com/wp/wp-content/uploads/2021/03/Actions-workflow-designer-buttons_StackStorm_Web_UI_-_2021-03-09_23.38.59.png 1076w" sizes="(max-width: 1024px) 100vw, 1024px" />][11]

This will open a graphical designer:

[<img loading="lazy" src="https://stackstorm.com/wp/wp-content/uploads/2021/03/StackStorm_Web_UI_-_2021-03-09_23.29.52-1024x542.png" alt="Workflow Designer" class="aligncenter size-large wp-image-9439" scale="0" width="1024" height="542" srcset="https://stackstorm.com/wp/wp-content/uploads/2021/03/StackStorm_Web_UI_-_2021-03-09_23.29.52-1024x542.png 1024w, https://stackstorm.com/wp/wp-content/uploads/2021/03/StackStorm_Web_UI_-_2021-03-09_23.29.52-150x79.png 150w, https://stackstorm.com/wp/wp-content/uploads/2021/03/StackStorm_Web_UI_-_2021-03-09_23.29.52-300x159.png 300w, https://stackstorm.com/wp/wp-content/uploads/2021/03/StackStorm_Web_UI_-_2021-03-09_23.29.52-768x407.png 768w, https://stackstorm.com/wp/wp-content/uploads/2021/03/StackStorm_Web_UI_-_2021-03-09_23.29.52-80x42.png 80w, https://stackstorm.com/wp/wp-content/uploads/2021/03/StackStorm_Web_UI_-_2021-03-09_23.29.52-220x116.png 220w, https://stackstorm.com/wp/wp-content/uploads/2021/03/StackStorm_Web_UI_-_2021-03-09_23.29.52-189x100.png 189w, https://stackstorm.com/wp/wp-content/uploads/2021/03/StackStorm_Web_UI_-_2021-03-09_23.29.52-280x148.png 280w, https://stackstorm.com/wp/wp-content/uploads/2021/03/StackStorm_Web_UI_-_2021-03-09_23.29.52-450x238.png 450w, https://stackstorm.com/wp/wp-content/uploads/2021/03/StackStorm_Web_UI_-_2021-03-09_23.29.52-750x397.png 750w, https://stackstorm.com/wp/wp-content/uploads/2021/03/StackStorm_Web_UI_-_2021-03-09_23.29.52-920x487.png 920w, https://stackstorm.com/wp/wp-content/uploads/2021/03/StackStorm_Web_UI_-_2021-03-09_23.29.52-1124x595.png 1124w, https://stackstorm.com/wp/wp-content/uploads/2021/03/StackStorm_Web_UI_-_2021-03-09_23.29.52.png 1855w" sizes="(max-width: 1024px) 100vw, 1024px" />][12]

Now all of our users can use these great features!

## New CI &#8211; GitHub Actions

We transitioned some of our more simple CI jobs from Travis CI to GitHub Actions. We removed Python 2 and transitioned the lint tests, compile tests, pack tests, and unit tests to GitHub Actions, but we left the integration tests on Travis CI because we could not quite get them working on GitHub Actions. While splitting our CI test across four different providers is not ideal, it&#8217;s working out pretty well so far, and we hope to completely transition the integration tests in the future.

## Other Changes

Between the other changes was the removal of obsolete `st2resultstracker` service, added notification support for [err-stackstorm][13] which is a Python-based chatops framework alternative, added a `timeout` parameter to `packs.install`, updated many dependencies, better use of UTF-8 instead of ASCII across the codebase, Orquesta workflow improvements and new features like `orquesta-rehearse` command to run unit tests for workflows as well as tens of other fixes and enhancements in StackStorm. Please find the list in the [Changelog][14] and follow the official [v3.4.0 Upgrade Instructions][15] when migrating from the older versions.

## Future Work

For StackStorm 3.5, due out in June, [we planned][16] to add Python 3.8 supporting Ubuntu 20.04 and deprecating and/or removing support for Ubuntu 16.04. Significant performance enhancements in the core and workflows, adding Redis as a default coordination backend in the installation will be another set of additions to improve the StackStorm. Now that we have integrated the enterprise components we will be focusing back on features, fixing bugs, and updating our development and distribution scripts. Given the feedback we received from the [ChatOps 2020 User Survey][17] we are still working on rewriting st2chatops in Python and improving its integration with the rest of StackStorm. This will not be an easy task, so please pitch in and help out if you can! Find [StackStorm v3.5.0 Roadmap][18] project and [ChatOps Discussion][19] on Github.

## Special Thanks

Special thanks to Harsh Nanchahal of Starbucks and Shital Raut of [Orchestral][20] for their work on integrating the LDAP and RBAC backends into the ST2 codebase. Shital also helped integrate the Workflow Designer component, fixed up the Travis-CI and CircleCI, worked out integration bugs, and updated dependencies with security advisories.

Community member [Jacob Floyd][21] updated some of the maintainer scripts we use to manage StackStorm Exchange packs and deployed the Python 3 changes to all pack CI configurations.

StackStorm Contributors [Mick McGrath][22] of [Bitovi][23] and [Amanda McGuinness][2] of [Ammeon][3] helped testing the Workflow Designer as well. Amanda was also an incredibly helpful assistant release manager throughout the v3.4 release process, leading the Python 2 deprecation plan, spotting multiple bugs before they were merged, finding bugs in the development packages, digging through and debugging the package build process, and testing out the pre-release packages.

As always, we&#8217;d like to thank all of the users who contributed feedback during the [pre-release testing][24]: especially <span class="p-name vcard-fullname d-block overflow-hidden" itemprop="name">Himadri Ganguly, <a href="https://github.com/winem">Marcel Weinberg</a>, <a href="https://github.com/guzzijones"><span>Aaron Jonen</span></a>, Dennis Whitney, and many of the aforementioned people.</span> This release would not have been possible without the support, testing, and contributions from the many pre-release testers!

## P.S.

If StackStorm was helpful to you, please make a [Donation][25] to the project CommunityBridge profile. The funds will be used to support the StackStorm infrastructure behind the releases, packages, CI/CD.

 [1]: https://github.com/blag
 [2]: https://github.com/amanda11
 [3]: https://www.ammeonsolutions.com/
 [4]: https://stackstorm.com/2020/10/22/stackstorm-v3-3-0-released/
 [5]: https://stackstorm.com/2020/05/27/extreme-networks-donates-ewc-to-linux-foundation/
 [6]: https://stackstorm.com/2020/11/15/python-2-deprecation-plan-say-goodbye-to-python-2/
 [7]: https://github.com/stackstorm/st2-auth-ldap
 [8]: https://github.com/stackstorm/st2-rbac-backend
 [9]: https://docs.stackstorm.com/3.4/rbac.html
 [10]: https://docs.stackstorm.com/3.4/authentication.html#ldap
 [11]: https://stackstorm.com/wp/wp-content/uploads/2021/03/Actions-workflow-designer-buttons_StackStorm_Web_UI_-_2021-03-09_23.38.59.png
 [12]: https://stackstorm.com/wp/wp-content/uploads/2021/03/StackStorm_Web_UI_-_2021-03-09_23.29.52.png
 [13]: https://github.com/nzlosh/err-stackstorm
 [14]: https://github.com/StackStorm/st2/releases/tag/v3.4.0
 [15]: https://docs.stackstorm.com/latest/install/upgrades.html#v3-4
 [16]: https://github.com/StackStorm/discussions/issues/67#issuecomment-789230036
 [17]: https://stackstorm.com/2020/08/03/2020-chatops-user-survey/
 [18]: https://github.com/orgs/StackStorm/projects/20
 [19]: https://github.com/StackStorm/discussions/issues/8
 [20]: https://orchestral.ai/
 [21]: https://github.com/cognifloyd/
 [22]: https://github.com/mickmcgrath13
 [23]: https://www.bitovi.com/
 [24]: https://github.com/StackStorm/discussions/issues/66
 [25]: https://stackstorm.com/donate/