<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>StackStorm v1.5 is alive! | StackStorm</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="June 27, 2016
by Lindsay Hill
StackStorm v1.5.0 has been released! More features, more improvements, and more bugfixes (sorry about those). Read on to hear about the changes, or fire up apt/yum and upgrade!
CLI Completion!
Spend a lot of your time using the st2 CLI? You’ll love this change: We’ve added CLI auto-completion to the st2 command. Type st2 then hit tab twice. You’ll get a list of all available arguments. This works multiple levels deep. Very handy when you can’t quite remember the right syntax:

Simple, but cool.
Datastore Secrets and User-Scoping
The StackStorm datastore service allows you to store common parameters and their values for reuse within sensors, actions and rules. Prior to v1.5, these were available to all users. Now you can scope variables to a specific user, and you can control who can read or write into those variables. By default, variables are stored in the system scope, but you can scope it to a specific user by adding --scope=user, e.g.:
st2 key set date_cmd &quot;date -u&quot; --scope=user">
    <meta name="generator" content="Hugo 0.89.2" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
<link rel="stylesheet" href="/stackstorm.com/ananke/css/main.min.css" >




    
      

    

    
    
    <meta property="og:title" content="StackStorm v1.5 is alive!" />
<meta property="og:description" content="June 27, 2016
by Lindsay Hill
StackStorm v1.5.0 has been released! More features, more improvements, and more bugfixes (sorry about those). Read on to hear about the changes, or fire up apt/yum and upgrade!
CLI Completion!
Spend a lot of your time using the st2 CLI? You’ll love this change: We’ve added CLI auto-completion to the st2 command. Type st2 then hit tab twice. You’ll get a list of all available arguments. This works multiple levels deep. Very handy when you can’t quite remember the right syntax:

Simple, but cool.
Datastore Secrets and User-Scoping
The StackStorm datastore service allows you to store common parameters and their values for reuse within sensors, actions and rules. Prior to v1.5, these were available to all users. Now you can scope variables to a specific user, and you can control who can read or write into those variables. By default, variables are stored in the system scope, but you can scope it to a specific user by adding --scope=user, e.g.:
st2 key set date_cmd &quot;date -u&quot; --scope=user" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://stackstorm.github.io/stackstorm.com/2016/06/27/stackstorm-v1-5-alive/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-06-27T22:55:51+00:00" />
<meta property="article:modified_time" content="2016-06-27T22:55:51+00:00" />

<meta itemprop="name" content="StackStorm v1.5 is alive!">
<meta itemprop="description" content="June 27, 2016
by Lindsay Hill
StackStorm v1.5.0 has been released! More features, more improvements, and more bugfixes (sorry about those). Read on to hear about the changes, or fire up apt/yum and upgrade!
CLI Completion!
Spend a lot of your time using the st2 CLI? You’ll love this change: We’ve added CLI auto-completion to the st2 command. Type st2 then hit tab twice. You’ll get a list of all available arguments. This works multiple levels deep. Very handy when you can’t quite remember the right syntax:

Simple, but cool.
Datastore Secrets and User-Scoping
The StackStorm datastore service allows you to store common parameters and their values for reuse within sensors, actions and rules. Prior to v1.5, these were available to all users. Now you can scope variables to a specific user, and you can control who can read or write into those variables. By default, variables are stored in the system scope, but you can scope it to a specific user by adding --scope=user, e.g.:
st2 key set date_cmd &quot;date -u&quot; --scope=user"><meta itemprop="datePublished" content="2016-06-27T22:55:51+00:00" />
<meta itemprop="dateModified" content="2016-06-27T22:55:51+00:00" />
<meta itemprop="wordCount" content="1051">
<meta itemprop="keywords" content="release," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="StackStorm v1.5 is alive!"/>
<meta name="twitter:description" content="June 27, 2016
by Lindsay Hill
StackStorm v1.5.0 has been released! More features, more improvements, and more bugfixes (sorry about those). Read on to hear about the changes, or fire up apt/yum and upgrade!
CLI Completion!
Spend a lot of your time using the st2 CLI? You’ll love this change: We’ve added CLI auto-completion to the st2 command. Type st2 then hit tab twice. You’ll get a list of all available arguments. This works multiple levels deep. Very handy when you can’t quite remember the right syntax:

Simple, but cool.
Datastore Secrets and User-Scoping
The StackStorm datastore service allows you to store common parameters and their values for reuse within sensors, actions and rules. Prior to v1.5, these were available to all users. Now you can scope variables to a specific user, and you can control who can read or write into those variables. By default, variables are stored in the system scope, but you can scope it to a specific user by adding --scope=user, e.g.:
st2 key set date_cmd &quot;date -u&quot; --scope=user"/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/stackstorm.com/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        StackStorm
      
    </a>
    <div class="flex-l items-center">
      

      
      















    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      




  <div id="sharing" class="mt3">

    
    <a href="https://www.facebook.com/sharer.php?u=https://stackstorm.github.io/stackstorm.com/2016/06/27/stackstorm-v1-5-alive/" class="facebook no-underline" aria-label="share on Facebook">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

    </a>

    
    
    <a href="https://twitter.com/share?url=https://stackstorm.github.io/stackstorm.com/2016/06/27/stackstorm-v1-5-alive/&amp;text=StackStorm%20v1.5%20is%20alive!" class="twitter no-underline" aria-label="share on Twitter">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

    </a>

    
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://stackstorm.github.io/stackstorm.com/2016/06/27/stackstorm-v1-5-alive/&amp;title=StackStorm%20v1.5%20is%20alive!" class="linkedin no-underline" aria-label="share on LinkedIn">
      <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

    </a>
  </div>


      <h1 class="f1 athelas mt3 mb1">StackStorm v1.5 is alive!</h1>
      
      <p class="tracked">
          By <strong>
          
              st2admin
          
          </strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2016-06-27T22:55:51Z">June 27, 2016</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p><strong>June 27, 2016</strong><br>
<em>by Lindsay Hill</em></p>
<p><strong>StackStorm v1.5.0</strong> has been released! More features, more improvements, and more bugfixes (sorry about those). Read on to hear about the changes, or fire up <code>apt</code>/<code>yum</code> and upgrade!</p>
<h2 id="cli-completion">CLI Completion!</h2>
<p>Spend a lot of your time using the <code>st2</code> CLI? You’ll love this change: We’ve added CLI auto-completion to the <code>st2</code> command. Type <code>st2</code> then hit tab twice. You’ll get a list of all available arguments. This works multiple levels deep. Very handy when you can’t quite remember the right syntax:</p>
<!-- raw HTML omitted -->
<p>Simple, but cool.</p>
<h2 id="datastore-secrets-and-user-scoping">Datastore Secrets and User-Scoping</h2>
<p>The StackStorm datastore service allows you to store common parameters and their values for reuse within sensors, actions and rules. Prior to v1.5, these were available to all users. Now you can scope variables to a specific user, and you can control who can read or write into those variables. By default, variables are stored in the <code>system</code> scope, but you can scope it to a specific user by adding <code>--scope=user</code>, e.g.:</p>
<p><code>st2 key set date_cmd &quot;date -u&quot; --scope=user</code></p>
<p>You can also store ‘secrets’ – values encrypted using a symmetric key. This needs to be enabled by the StackStorm administrator. Once it’s setup, users can store keys with the <code>--encrypt</code> flag. Only the administrator and the user who set the value will be able to decrypt it, if it was user-scoped.</p>
<p>The combination of user-scoping and encryption is particularly useful for users that need to store API secrets and credentials in the datastore.</p>
<p>We’ve got some more details in the <a href="http://docs.stackstorm.com/datastore.html#scoping-items-stored-in-datastore">Datastore documentation</a>, and we’ll also be covering it in future blog posts.</p>
<h2 id="pack-configuration-v2">Pack Configuration v2</h2>
<p>Pack config files which are located inside the pack directory (<code>config.yaml</code>) have been deprecated in favor of the new pack configuration v2. The new config files are outside the pack directory, in the <code>/opt/stackstorm/configs/</code> directory. The format is similar to the existing pack configs, but in addition to the static values they can also contain dynamic values. A dynamic value contains a Jinja expression which is resolved to the datastore item during run-time. This can include the new datastore secrets.</p>
<p>This approach offers more flexibility, and makes updating packs easier, since users don’t need to directly manipulate pack content anymore. This helps if you’re following the “infrastructure as code” approach (and you should!).</p>
<blockquote>
<p>This change is backwards-compatible. Your existing configurations will continue to work, but we encourage you to plan to migrate to take advantage of the new features.</p>
</blockquote>
<p>For more information, check the updated <a href="https://docs.stackstorm.com/pack_configs.html">Pack Configuration</a> docs. Keep an eye on this blog, where we’ll publish more details about the new configuration style, and how to migrate.</p>
<h2 id="register-triggers">Register-triggers</h2>
<p>We added the <code>--register-triggers</code> flag to the <code>st2-register-content</code> script and <code>st2ctl</code>. When this flag is provided, all triggers contained within a pack triggers directory are registered, consistent with the behavior of sensors, actions, etc. This feature allows users to register trigger types outside the scope of the sensors.</p>
<h2 id="other-improvements--new-features">Other Improvements &amp; New Features</h2>
<p>The <a href="https://github.com/StackStorm/st2/blob/master/CHANGELOG.rst#150---june-22-2016">Changelog</a> contains the full list, but here’s a selection of other improvements and new features in v1.5:</p>
<ul>
<li>The underscore prefix has been removed from the <code>sensor_service</code> and <code>config</code> variables available with the <code>Sensor</code> and <code>PollingSensor</code> classes. Those variables are now <code>self.sensor_service</code> and <code>self.config</code>.</li>
<li>SSL support for mongodb connections.</li>
<li>Add <code>-y</code> / <code>--yaml</code> flag to the CLI <code>list</code> and <code>get</code> commands. If this flag is provided, the response will be formatted as YAML. Related: We removed support for JSON format for resource metadata files. JSON has been deprecated since StackStorm v0.6, so we gave you fair warning. Now the only supported metadata file format is YAML.</li>
<li>The deprecated Fabric-based remote runner has been removed</li>
<li>Allow user to provide a path to the private SSH key file for the remote runner <code>private_key</code> parameter. Previously only raw key material was supported.</li>
<li>Add RBAC support for runner types API endpoints.</li>
<li>Change the way SFTP connections work, so the remote runner should now also work on Cygwin on Windows</li>
<li>API and CLI now allow rules to be filtered by their ‘enabled’ state.</li>
<li>Improved error message if an SSH private key is passphrase protected but the user fails to supply passphrase.</li>
<li>Add new API endpoint and corresponding CLI commands (<code>st2 runner disable &lt;name&gt;</code>, <code>st2 runner enable &lt;name&gt;</code>) which allows administrator to disable (and re-enable) a runner.</li>
<li>Store action execution state transitions (event log) in the log attribute on the ActionExecution object.<!-- raw HTML omitted --><!-- raw HTML omitted --></li>
</ul>
<h2 id="notable-bugfixes">Notable Bugfixes</h2>
<p>Yes, there were bugs. We’re sorry. Now there’s fewer bugs. Some of the interesting fixes include:</p>
<ul>
<li>Alias names are now correctly scoped to a pack, so the same name for an alias can be used across different packs</li>
<li>SSH Bastion host support now works properly</li>
<li>Fix support for password protected private key files in the remote runner. (bug-fix)</li>
<li>Add missing <code>pytz</code> dependency to <code>st2client</code> requirements file. (bug-fix)</li>
<li>Fix datastore access on Python runner actions (set <code>ST2_AUTH_TOKEN</code> and <code>ST2_API_URL</code> env variables in Python runner actions to match sensors).</li>
<li>Added a work-around for trigger creation which would cause rule creation for CronTrigger to fail under some circumstances.</li>
<li>Make sure <code>st2-submit-debug-info</code> cleans up after itself and deletes a temporary directory it creates.</li>
</ul>
<h2 id="new-community-contributions-since-v14">New Community contributions since v1.4</h2>
<p>Our community continues to contribute useful integrations. Here’s some new packs added since v1.4 was released:</p>
<ul>
<li><a href="https://github.com/StackStorm-Exchange/stackstorm-cloudflare">CloudFlare</a></li>
<li><a href="https://github.com/StackStorm-Exchange/stackstorm-hpe_icsp">HPE Insight Control Server Provisioning</a></li>
<li><a href="https://github.com/StackStorm-Exchange/stackstorm-networking_utils">Networking Utilities</a> – handy generic utilities for checking things like if an IP is valid</li>
<li><a href="https://github.com/StackStorm-Exchange/stackstorm-opsgenie">OpsGenie</a></li>
</ul>
<h2 id="but-wait-theres-more">But wait, there’s more!</h2>
<p>Read the full <a href="https://github.com/StackStorm/st2/blob/master/CHANGELOG.rst#150---june-24-2016">Changelog</a> to see all the details. We’ve also been tidying up the <a href="http://docs.stackstorm.com/">documentation</a> as we go. I’ve been on a typo hunt, but I’m sure there’s more out there. It’s a race between creating and fixing typos. Some days I feel like the developers are winning, other days I get on top of it.</p>
<p>Thanks to all those Community members who contributed code to this release, including: Kale Blankenship, Peter Idah, Andrew Jones, Jon Middleton, Paul Mulvihill, Adam Mielke, Cody A. Ray, and Anthony Shaw.</p>
<h2 id="ok-ok-how-do-i-upgrade">OK, OK, How do I Upgrade?</h2>
<p>With v1.4 we <a href="https://stackstorm.com/2016/04/21/goodbye-aio/">deprecated the AIO installer</a>. This means everyone should now be using packages. Debian/Ubuntu users should use <code>apt-get upgrade st2</code> to upgrade, while RHEL/CentOS users should use <code>yum upgrade st2</code>.</p>
<p>Of course, make sure you have a backup before upgrading. You should also read the <a href="https://docs.stackstorm.com/upgrade_notes.html#st2-v1-5">Upgrade Notes</a>.</p>
<p>Questions? Problems? Feedback? Get in touch via the <a href="https://stackstorm.com/community-signup/">StackStorm slack community</a> or <a href="https://twitter.com/Stack_Storm">@Stack_Storm</a>.</p><ul class="pa0">
  
   <li class="list">
     <a href="/stackstorm.com/tags/release" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">release</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/stackstorm.com/2016/04/20/stackstorm-v1-4/">StackStorm v1.4 is out</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/stackstorm.com/?p=9569/">Clone of StackStorm v3.4.1 – Security fix</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://stackstorm.github.io/stackstorm.com" >
    &copy;  StackStorm 2021 
  </a>
    <div>














</div>
  </div>
</footer>

  </body>
</html>
