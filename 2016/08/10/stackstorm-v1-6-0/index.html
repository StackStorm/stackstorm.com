<!DOCTYPE html>
<html lang="en-US">
<head>
	<style type="text/css">.ttfm1{font-family: 'dual300';font-size:em;line-height:em;color:;}  .ttfm2{font-family: 'Roboto';font-size:em;line-height:3em;color:;}</style>	<!--[if lt IE 9]>
	<script src="../../../../wp/wp-content/themes/rise/js/html5/dist/html5shiv.js"></script>
	<script src="//css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
	<![endif]-->
	<!--[if IE 8]>
	<link rel="stylesheet" type="text/css" href="../../../../wp/wp-content/themes/rise/css/ie8.css"/>
	<![endif]-->
	<!--[if IE 7]>
	<link rel="stylesheet" type="text/css" href="../../../../wp/wp-content/themes/rise/css/ie7.css"/>
	<![endif]-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="UTF-8">
	
			<meta name="google-site-verification" content="ovwnX0ej2kps4UuJ9NOzNjJcLOQD8JPDLNhe-hMYTMk">	
		<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">

	<!-- This site is optimized with the Yoast SEO plugin v16.4 - https://yoast.com/wordpress/plugins/seo/ -->
	<title>StackStorm v1.6.0 is here - StackStorm</title>
	<link rel="canonical" href="/2016/08/10/stackstorm-v1-6-0/">
	<meta property="og:locale" content="en_US">
	<meta property="og:type" content="article">
	<meta property="og:title" content="StackStorm v1.6.0 is here - StackStorm">
	<meta property="og:description" content="August 10, 2016 By Tomaz Muraus A good month after releasing StackStorm v1.5.0 we are happy to announce the release of StackStorm v1.6.0. This release includes various new features and improvements described below. Concurrency policy improvements We have listened to feedback from our users and updated action concurrency policies to allow action execution to be&hellip;">
	<meta property="og:url" content="/2016/08/10/stackstorm-v1-6-0/">
	<meta property="og:site_name" content="StackStorm">
	<meta property="article:published_time" content="2016-08-10T08:28:59+00:00">
	<meta property="article:modified_time" content="2016-11-15T23:08:20+00:00">
	<meta property="og:image" content="../../../../wp/wp-content/uploads/2016/08/vagrant@vagrant-ubuntu-trusty-64-data-stanley_080.png">
	<meta name="twitter:label1" content="Written by">
	<meta name="twitter:data1" content="Tomaz Muraus">
	<meta name="twitter:label2" content="Est. reading time">
	<meta name="twitter:data2" content="7 minutes">
	<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"/#organization","name":"StackStorm","url":"/","sameAs":[],"logo":{"@type":"ImageObject","@id":"/#logo","inLanguage":"en-US","url":"../../../../wp/wp-content/uploads/2014/10/stackstorm-logo-header.png","contentUrl":"../../../../wp/wp-content/uploads/2014/10/stackstorm-logo-header.png","width":228,"height":59,"caption":"StackStorm"},"image":{"@id":"/#logo"}},{"@type":"WebSite","@id":"/#website","url":"/","name":"StackStorm","description":"Event-driven automation","publisher":{"@id":"/#organization"},"potentialAction":[{"@type":"SearchAction","target":"/?s={search_term_string}","query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"/2016/08/10/stackstorm-v1-6-0/#primaryimage","inLanguage":"en-US","url":"../../../../wp/wp-content/uploads/2016/08/vagrant@vagrant-ubuntu-trusty-64-data-stanley_080.png","contentUrl":"../../../../wp/wp-content/uploads/2016/08/vagrant@vagrant-ubuntu-trusty-64-data-stanley_080.png"},{"@type":"WebPage","@id":"/2016/08/10/stackstorm-v1-6-0/#webpage","url":"/2016/08/10/stackstorm-v1-6-0/","name":"StackStorm v1.6.0 is here - StackStorm","isPartOf":{"@id":"/#website"},"primaryImageOfPage":{"@id":"/2016/08/10/stackstorm-v1-6-0/#primaryimage"},"datePublished":"2016-08-10T08:28:59+00:00","dateModified":"2016-11-15T23:08:20+00:00","breadcrumb":{"@id":"/2016/08/10/stackstorm-v1-6-0/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["/2016/08/10/stackstorm-v1-6-0/"]}]},{"@type":"BreadcrumbList","@id":"/2016/08/10/stackstorm-v1-6-0/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"/","url":"/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"/blog/","url":"/blog/","name":"Blog"}},{"@type":"ListItem","position":3,"item":{"@id":"/2016/08/10/stackstorm-v1-6-0/#webpage"}}]},{"@type":"Article","@id":"/2016/08/10/stackstorm-v1-6-0/#article","isPartOf":{"@id":"/2016/08/10/stackstorm-v1-6-0/#webpage"},"author":{"@id":"/#/schema/person/32824949b7a0bedac44670c11395bdcc"},"headline":"StackStorm v1.6.0 is here","datePublished":"2016-08-10T08:28:59+00:00","dateModified":"2016-11-15T23:08:20+00:00","mainEntityOfPage":{"@id":"/2016/08/10/stackstorm-v1-6-0/#webpage"},"wordCount":1352,"commentCount":0,"publisher":{"@id":"/#organization"},"image":{"@id":"/2016/08/10/stackstorm-v1-6-0/#primaryimage"},"thumbnailUrl":"../../../../wp/wp-content/uploads/2016/08/vagrant@vagrant-ubuntu-trusty-64-data-stanley_080.png","keywords":["release","release announcement"],"articleSection":["Blog","News"],"inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["/2016/08/10/stackstorm-v1-6-0/#respond"]}]},{"@type":"Person","@id":"/#/schema/person/32824949b7a0bedac44670c11395bdcc","name":"Tomaz Muraus","image":{"@type":"ImageObject","@id":"/#personlogo","inLanguage":"en-US","url":"https://secure.gravatar.com/avatar/ad26f13926b0acce43e51d8028502d0c?s=96&d=mm&r=g","contentUrl":"https://secure.gravatar.com/avatar/ad26f13926b0acce43e51d8028502d0c?s=96&d=mm&r=g","caption":"Tomaz Muraus"},"sameAs":["http://www.tomaz.me","https://twitter.com/KamiSLO"],"url":"/author/tomaz/"}]}</script>
	<!-- / Yoast SEO plugin. -->


<link rel="dns-prefetch" href="//github.githubassets.com">
<link rel="dns-prefetch" href="//s.w.org">
<link rel="alternate" type="application/rss+xml" title="StackStorm &raquo; StackStorm v1.6.0 is here Comments Feed" href="/2016/08/10/stackstorm-v1-6-0/feed/">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp\/wp-includes\/js\/wp-emoji-release.min.js?ver=09e48cfb58fec140b4ee0c6d1d4da1b2"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}</style>
	<link rel="stylesheet" id="dashicons-css" href="../../../../wp/wp-includes/css/dashicons.min.css?ver=09e48cfb58fec140b4ee0c6d1d4da1b2" type="text/css" media="all">
<link rel="stylesheet" id="menu-icons-extra-css" href="../../../../wp/wp-content/plugins/menu-icons/css/extra.min.css?ver=0.12.8" type="text/css" media="all">
<link rel="stylesheet" id="wp-block-library-css" href="../../../../wp/wp-includes/css/dist/block-library/style.min.css?ver=09e48cfb58fec140b4ee0c6d1d4da1b2" type="text/css" media="all">
<link rel="stylesheet" id="cookie-law-info-css" href="../../../../wp/wp-content/plugins/cookie-law-info/public/css/cookie-law-info-public.css?ver=2.0.3" type="text/css" media="all">
<link rel="stylesheet" id="cookie-law-info-gdpr-css" href="../../../../wp/wp-content/plugins/cookie-law-info/public/css/cookie-law-info-gdpr.css?ver=2.0.3" type="text/css" media="all">
<link rel="stylesheet" id="testimonial-rotator-style-css" href="../../../../wp/wp-content/plugins/testimonial-rotator/testimonial-rotator-style.css?ver=09e48cfb58fec140b4ee0c6d1d4da1b2" type="text/css" media="all">
<link rel="stylesheet" id="font-awesome-css" href="../../../../wp/wp-content/plugins/menu-icons/vendor/codeinwp/icon-picker/css/types/font-awesome.min.css?ver=4.7.0" type="text/css" media="all">
<link rel="stylesheet" id="rise-style-css" href="../../../../wp/wp-content/themes/stackstorm/style.css?ver=09e48cfb58fec140b4ee0c6d1d4da1b2" type="text/css" media="all">
<link rel="stylesheet" id="thrive-reset-css" href="../../../../wp/wp-content/themes/rise/css/reset.css?v=1.101.1" type="text/css" media="all">
<link rel="stylesheet" id="thrive-main-style-css" href="../../../../wp/wp-content/themes/rise/css/main_blue.css?v=1.101.1" type="text/css" media="all">
<link rel="stylesheet" id="enlighterjs-css" href="../../../../wp/wp-content/plugins/enlighter/cache/enlighterjs.min.css?ver=c8vUwCl5jS8Iu00" type="text/css" media="all">
<link rel="stylesheet" id="gistpress-css" href="https://github.githubassets.com/assets/gist-embed-862c6e83e243.css?ver=09e48cfb58fec140b4ee0c6d1d4da1b2" type="text/css" media="all">
<script type="text/javascript" src="../../../../wp/wp-includes/js/jquery/jquery.min.js?v=1.101.1" id="jquery-core-js"></script>
<script type="text/javascript" src="../../../../wp/wp-includes/js/jquery/jquery-migrate.min.js?v=1.101.1" id="jquery-migrate-js"></script>
<script type="text/javascript" id="cookie-law-info-js-extra">
/* <![CDATA[ */
var Cli_Data = {"nn_cookie_ids":[],"cookielist":[],"non_necessary_cookies":[],"ccpaEnabled":"","ccpaRegionBased":"","ccpaBarEnabled":"","strictlyEnabled":["necessary","obligatoire"],"ccpaType":"gdpr","js_blocking":"","custom_integration":"","triggerDomRefresh":"","secure_cookies":""};
var cli_cookiebar_settings = {"animate_speed_hide":"500","animate_speed_show":"500","background":"#384353","border":"#b1a6a6c2","border_on":"","button_1_button_colour":"#384353","button_1_button_hover":"#2d3642","button_1_link_colour":"#fff","button_1_as_button":"","button_1_new_win":"","button_2_button_colour":"#333","button_2_button_hover":"#292929","button_2_link_colour":"#00a5bf","button_2_as_button":"","button_2_hidebar":"1","button_3_button_colour":"#000","button_3_button_hover":"#000000","button_3_link_colour":"#fff","button_3_as_button":"1","button_3_new_win":"","button_4_button_colour":"#000","button_4_button_hover":"#000000","button_4_link_colour":"#fff","button_4_as_button":"1","button_7_button_colour":"#61a229","button_7_button_hover":"#4e8221","button_7_link_colour":"#fff","button_7_as_button":"1","button_7_new_win":"","font_family":"inherit","header_fix":"","notify_animate_hide":"1","notify_animate_show":"","notify_div_id":"#cookie-law-info-bar","notify_position_horizontal":"right","notify_position_vertical":"bottom","scroll_close":"","scroll_close_reload":"","accept_close_reload":"","reject_close_reload":"","showagain_tab":"1","showagain_background":"#fff","showagain_border":"#000","showagain_div_id":"#cookie-law-info-again","showagain_x_position":"100px","text":"#b7b7b7","show_once_yn":"","show_once":"10000","logging_on":"","as_popup":"","popup_overlay":"1","bar_heading_text":"","cookie_bar_as":"banner","popup_showagain_position":"bottom-right","widget_position":"left"};
var log_object = {"ajax_url":"\/wp\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type="text/javascript" src="../../../../wp/wp-content/plugins/cookie-law-info/public/js/cookie-law-info-public.js?ver=2.0.3" id="cookie-law-info-js"></script>
<script type="text/javascript" src="../../../../wp/wp-content/plugins/testimonial-rotator/js/jquery.cycletwo.js?v=1.101.1" id="cycletwo-js"></script>
<script type="text/javascript" src="../../../../wp/wp-content/plugins/testimonial-rotator/js/jquery.cycletwo.addons.js?v=1.101.1" id="cycletwo-addons-js"></script>
<script type="text/javascript" src="../../../../wp/wp-content/plugins/easy-logo-slider/js/jquery.jcarousel.min.js?v=1.101.1" id="jquery_jcarousel_min-js"></script>
<script type="text/javascript" src="../../../../wp/wp-content/plugins/easy-logo-slider/js/jcarousel.responsive.js?ver=09e48cfb58fec140b4ee0c6d1d4da1b2" id="jcarousel_responsive-js"></script>
<link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" type="application/json" href="/wp-json../../../../wp/v2/posts/5857">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../../wp/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../../wp/wp-includes/wlwmanifest.xml"> 

<link rel="shortlink" href="/?p=5857">
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2F%2F2016%2F08%2F10%2Fstackstorm-v1-6-0%2F">
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2F%2F2016%2F08%2F10%2Fstackstorm-v1-6-0%2F&#038;format=xml">
<style type="text/css">:not(#tve) .ttfm1{font-family: 'dual300' !important;font-weight: 400 !important;}.ttfm1 input, .ttfm1 select, .ttfm1 textarea, .ttfm1 button {font-family: 'dual300' !important;font-weight: 400 !important;}:not(#tve) .ttfm2{font-family: 'Roboto' !important;font-weight: 400 !important;}.ttfm2 input, .ttfm2 select, .ttfm2 textarea, .ttfm2 button {font-family: 'Roboto' !important;font-weight: 400 !important;}:not(#tve) .ttfm2.bold_text,.ttfm2 .bold_text,.ttfm2 b,.ttfm2 strong{font-weight: 500 !important;}.ttfm2.bold_text,.ttfm2 .bold_text,.ttfm2 b,.ttfm2 strong input, .ttfm2.bold_text,.ttfm2 .bold_text,.ttfm2 b,.ttfm2 strong select, .ttfm2.bold_text,.ttfm2 .bold_text,.ttfm2 b,.ttfm2 strong textarea, .ttfm2.bold_text,.ttfm2 .bold_text,.ttfm2 b,.ttfm2 strong button {font-weight: 500 !important;}</style>
<style type="text/css" id="tve_global_variables">:root{--tcb-gradient-0:linear-gradient(180deg, #ff712c 0%, #000000 100%);}</style>		<style type="text/css">.wp-video-shortcode {
				max-width: 100% !important;
			}

			.bSe a {
				clear: right;
			}

			.bSe blockquote {
				clear: both;
			}
			body { background:#FFF; }.cnt article h1.entry-title a { color:#333; }.cnt article h2.entry-title a { color:#333; }.bSe h1, h1.entry-title, h1.entry-title a { color:#333; }.bSe h2 { color:#464545; }.bSe h3 { color:#333; }.bSe h4 { color:#333; }.bSe h5 { color:#333; }.bSe h6 { color:#333; }.bSe p, .mry .awr-e p { color:#666; }.cnt .bSe { color:#666; }.cnt h1 a, .tve-woocommerce .bSe .awr .entry-title, .tve-woocommerce .bSe .awr .page-title{font-family:Roboto,sans-serif;}.bSe h1{font-family:Roboto,sans-serif;}.bSe h2,.tve-woocommerce .bSe h2{font-family:Roboto,sans-serif;}.bSe h3,.tve-woocommerce .bSe h3{font-family:Roboto,sans-serif;}.bSe h4{font-family:Roboto,sans-serif;}.bSe h5{font-family:Roboto,sans-serif;}.bSe h6{font-family:Roboto,sans-serif;}#text_logo{font-family:Roboto,sans-serif;}.cnt h1 a { font-weight:500; }.bSe h1 { font-weight:500; }.bSe h2 { font-weight:500; }.bSe h3 { font-weight:500; }.bSe h4 { font-weight:500; }.bSe h5 { font-weight:500; }.bSe h6 { font-weight:500; }.cnt{font-family:Roboto,sans-serif;font-weight:300;}article strong {font-weight: bold;}.cnt p, .tve-woocommerce .product p, .tve-woocommerce .products p, .brd ul li, header nav ul li a, header nav ul li > ul li a, .has-extended.has-heading .colch, footer, footer .fmm p, .aut-f{font-family:Roboto,sans-serif;font-weight:300;}article strong {font-weight: bold;}.bSe h1, .bSe .entry-title { font-size:46px; }.cnt { font-size:18px; }.thrivecb { font-size:18px; }.out { font-size:18px; }.aut p { font-size:18px; }.cnt p { line-height:1.5em; }.thrivecb { line-height:1.5em; }.bSe a, .cnt a { color:#24447b; }.bSe .faq h4{font-family:Roboto,sans-serif;font-weight:300;}article strong {font-weight: bold;}header nav > ul.menu > li > a { color:#fff; }header nav > ul.menu > li >  a:hover { color:#fff; }header nav > ul > li.current_page_item > a:hover { color:#fff; }header nav > ul > li.current_menu_item > a:hover { color:#fff; }header nav > ul > li.current_menu_item > a:hover { color:#fff; }header nav > ul > li > a:active { color:#fff; }header #logo > a > img { max-width:200px; }header ul.menu > li.h-cta > a { color:#FFFFFF!important; }header ul.menu > li.h-cta > a { background:#4b7cc7; }header ul.menu > li.h-cta > a { border-color:#4b7cc7; }header ul.menu > li.h-cta > a:hover { color:#4b7cc7!important; }header ul.menu > li.h-cta > a:hover { background:#transparent; }</style>
		<style type="text/css">span.oe_textdirection { unicode-bidi: bidi-override; direction: rtl; }
	span.oe_displaynone { display: none; }</style>
<style type="text/css" id="thrive-default-styles">@media (min-width: 300px) { .tcb-style-wrap blockquote {color:rgb(102, 102, 102);background-color:rgba(0, 0, 0, 0);font-family:Roboto, sans-serif;font-size:18px;font-weight:300;font-style:normal;margin:;padding-top:0px;padding-bottom:0px;text-decoration:rgb(102, 102, 102);text-transform:none;border-left:;--tcb-applied-color:;} }</style>
<link rel="icon" href="../../../../wp/wp-content/uploads/2015/09/st2.png" sizes="32x32">
<link rel="icon" href="../../../../wp/wp-content/uploads/2015/09/st2.png" sizes="192x192">
<link rel="apple-touch-icon" href="../../../../wp/wp-content/uploads/2015/09/st2.png">
<meta name="msapplication-TileImage" content="../../../../wp/wp-content/uploads/2015/09/st2.png">
		<style type="text/css" id="wp-custom-css">/*
You can add your own CSS here.

Click the help icon above to learn more.
*/

.bSe ul:not([class]) {
margin-left: 20px;
margin-bottom: 15px;
}

.bSe ul:not([class]) li {
    padding-left: 0;
    margin-bottom: 5px;
    position: relative;
}

/* StackStorm "Donate" button */
li#menu-item-9062 a {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    background-color: #418cc5;
    border: 3px solid #418cc5;
    color: #fff !important;
    text-decoration: none;
    height: 30px;
    border-radius: 20px;
    padding: 0 12px;
    font-weight: 400;
    transition: all .25s ease-in-out;
}
li#menu-item-9062 a:hover {
    color: #333 !important;
}
li#menu-item-9062 a:before {
    top: 0;
}</style>
					<style type="text/css">/* ***blog*** */

pre code {
        overflow: scroll !important;
	white-space: pre !important;
	font-size: 11px
}

header.side nav>ul>li {
    padding: 15px !important;
}

.cnt {
    margin-top: 50px !important;
}

.cnt a.customHref{
    color: #f82 !important;
}

.bSe ul li:before {
    content: '' !important;
    position: absolute;
    left: 0;
    top: -2px;
}

.bSe ul {
    list-style-type: disc !important;
}

.bSe table tbody tr{
    border-top-width:0px !important;
}

code {
    font-size: 0.9em !important;
}

pre{
    font-family: Monaco, MonacoRegular, monospace !important;
    font-size: 14px !important;
    background-color: rgb(250,253,255) !important;
    padding: 0px 3px 0px 3px !important;
    white-space: pre !important;
}

.bSe h1, .bSe .entry-title {
    line-height: 1.2;
    font-size: 40px;
}

.bSe h2 {
    font-weight: 300;
}

.bSe h2, .tve-woocommerce .bSe h2 {
    font-family: "Roboto",sans-serif;
}

.cnt p, .tve-woocommerce .product p, .tve-woocommerce .products p {
    font-family: Roboto,sans-serif;
    font-weight: 300;
}

p {
    margin-bottom: 15px;
}


header.fbh {
    height: 49px;
}
header #logo>a>img {
    max-width: 150px;
}

.gist .blob-code .blob-code-inner .js-file-line  {
    white-space: pre !important;
}</style>
		
</head>
<body class="post-template-default single single-post postid-5857 single-format-standard">


<!-- BEGIN LF Header --> 	<div id="lf-header" style="padding-bottom: 3px; padding-top: 3px;background: #252525;"> 		<div class="container wrp"> 			<a href="https://linuxfoundation.org/projects" target="_blank" rel="noopener noreferrer"> 				<img src="../../../../wp/wp-content/themes/stackstorm/images/logo_lf_projects_horizontal.png" style="max-width: 270px;"> 			</a> 		</div> 	</div> 	<!-- END LF Header -->

<div class="theme-wrapper">
	
	
	
	
	<div class="fln">
		<div class="wrp clearfix">
												<a class="fl-l" href="../../../../index.html">
						<img src="../../../../wp/wp-content/uploads/2016/10/StackStorm-logo228.png" alt="StackStorm">
					</a>
										<div class="fl-s clearfix">
																<ul>
																													</ul>
			</div>
		</div>
	</div>


	<div class="header-wrapper h-bi">
		<div id="floating_menu" data-float="float" data-social="0">
			<header class="side" style="">
								<div class="h-i">
					<div class="wrp">
														<div id="logo">
									<a href="../../../../index.html">
										<img src="../../../../wp/wp-content/uploads/2016/10/StackStorm-logo228.png" alt="StackStorm"></a>
								</div>
																					<div class="m-s">
								<div class="hsm"></div>
								<div class="m-si">
																												<nav class="menu-stackstorm-refresh-container"><ul id="menu-stackstorm-refresh" class="menu">
<li id="menu-item-5952" class="menu-item menu-item-type-custom menu-item-object-custom toplvl"><a href="../../../../features/index.html">Features</a></li>
<li id="menu-item-6100" class="menu-item menu-item-type-custom menu-item-object-custom toplvl"><a href="../../../../index.html#community">Community</a></li>
<li id="menu-item-4207" class="menu-item menu-item-type-custom menu-item-object-custom toplvl"><a target="_blank" href="http://docs.stackstorm.com/">Docs</a></li>
<li id="menu-item-8701" class="menu-item menu-item-type-custom menu-item-object-custom toplvl"><a href="https://exchange.stackstorm.org/">Exchange</a></li>
<li id="menu-item-2277" class="menu-item menu-item-type-custom menu-item-object-custom toplvl"><a href="../../../../blog/index.html">Blog</a></li>
<li id="menu-item-9062" class="menu-item menu-item-type-post_type menu-item-object-page toplvl"><a href="../../../../donate/index.html">Donate</a></li>
</ul></nav>										<!-- Cart Dropdown -->
									
																	</div>
							</div>
						
					</div>
				</div>

			</header>
		</div>
	</div>

	
	
	
	
			
		
		<div class="wrp cnt">


			<section class="bSe bpd">
				
<div class="awr">

	
	
	
				<h1 class="entry-title">StackStorm v1.6.0 is here</h1>
		
	
	
		<div class="awr-i">
		<p><strong>August 10, 2016</strong><br>
<em>By Tomaz Muraus</em></p>
<p>A good month after <a href="/2016/06/27/stackstorm-v1-5-alive/">releasing StackStorm v1.5.0 </a>we are happy to announce the release of StackStorm v1.6.0.</p>
<p>This release includes various new features and improvements described below.</p>
<h2>Concurrency policy improvements</h2>
<p>We have listened to <a href="https://github.com/StackStorm/st2/issues/2794">feedback from our users</a> and updated <a href="https://docs.stackstorm.com/latest/policies.html#concurrency">action concurrency policies</a> to allow action execution to be canceled instead of just delayed when a concurrency threshold is reached.</p>
<p>This feature comes handy in situations where multiple users request the same action, but the action is already running because of the first request.</p>
<p><span id="more-5857"></span></p>
<p>This was achieved by adding new “action” attribute to the <strong>action.concurrency</strong> and <strong>action.concurrency.attr</strong> policy definition. Valid values for this attribute include “delay” and “cancel”. This new feature is fully backward-compatible and if this attribute is not specified, it defaults to “delay” which is the same as before.</p>
<h2>Configuration file validation</h2>
<p>In StackStorm v1.5.0 we have introduced <a href="/2016/06/30/improved-pack-configuration-user-scoped-datastore-items-secure-secrets-store/">improved configuration</a> which allows user to more easily version control the config files, utilize secrets and values from the datastore in the config and more.</p>
<p>In this release we have built on top of the existing foundation and introduced strict validation for new-style configs. This functionality is built on top of pack <a href="https://docs.stackstorm.com/pack_configs.html#configuration-schema">configuration schema</a> which allows packs authors to define valid attributes and types for all the config options.</p>
<p>When running <em>st2ctl reload &#8211;register-configs</em> / <em>st2-register-content reload &#8211;register-configs</em> script, StackStorm will now validate new-style configs located in /opt/stackstorm/configs/ directory against the config schema located inside the pack directory (if a schema doesn’t exist, no validation is performed).</p>
<p style="text-align: center;"><img loading="lazy" src="../../../../wp/wp-content/uploads/2016/08/vagrant@vagrant-ubuntu-trusty-64-data-stanley_080.png" alt="vagrant@vagrant-ubuntu-trusty-64: -data-stanley_080" width="800" height="582" class="aligncenter wp-image-5858" srcset="../../../../wp/wp-content/uploads/2016/08/vagrant@vagrant-ubuntu-trusty-64-data-stanley_080.png 1032w, ../../../../wp/wp-content/uploads/2016/08/vagrant@vagrant-ubuntu-trusty-64-data-stanley_080-300x218.png 300w, ../../../../wp/wp-content/uploads/2016/08/vagrant@vagrant-ubuntu-trusty-64-data-stanley_080-768x559.png 768w, ../../../../wp/wp-content/uploads/2016/08/vagrant@vagrant-ubuntu-trusty-64-data-stanley_080-1024x745.png 1024w" sizes="(max-width: 800px) 100vw, 800px">Validation failing on aws pack config since attribute “region” is an integer and not a string.</p>
<p>This feature allows users to catch common errors and typos faster and allows for a better user-experience and faster development cycle. Previously, typos and other common errors which are now caught during register / load phase were only caught during run-time (when action runs). This meant slower development and testing cycle since the user needed to run the action to see if all the configuration values are correct.</p>
<p>In addition to that, this feature also makes pack author’s life a bit easier since it offloads some of the work from them to StackStorm. Previously, pack authors would need to put code which performs config validation (does config contain value X, is it of a right type, etc.) inside the action.</p>
<h2>MongoDB 3.x support</h2>
<p>When StackStorm development started, 2.4 was the latest stable and supported release of MongoDB.</p>
<p>Since then, MongoDB has undergone a lot of development and released multiple new major releases (2.6, 3.0 and 3.2) which include many improvements. The underlying libraries StackStorm uses to talk to MongoDB (pymongo and mongoengine) were updated to support MongoDB 3.x, but some of the changes were backward incompatible so updating StackStorm to support it wasn’t trivial.</p>
<p>In this release we upgraded to the latest versions of underlying libraries and updated our code base so it now supports both &#8211; MongoDB 2.x and MongoDB 3.x.</p>
<p>We believe this is an important change for our users since the latest version of MongoDB (3.2) includes a new storage engine, WiredTiger, which includes many performance and reliability improvements (document level concurrency and more granular locking, snapshots and checkpoints, compression, encryption, etc.).</p>
<p>In addition to that, we have also updated our installer script and documentation so new installations will install and use MongoDB 3.2 by default.</p>
<p>As far as existing users go &#8211; for the time being our codebase supports MongoDB 2.x and 3.x so we won’t force existing users to upgrade. Having said that, because of the various improvements in MongoDB 3.2 we would still encourage existing users who have the time, resources and can afford short down-time to upgrade.</p>
<p>It’s worth noting that because of the storage engine and on-disk format changes, the upgrade is not totally straight-forward. It requirements incremental upgrade (first to 3.0, then to 3.2) and data migration.</p>
<p>If you decide to upgrade, make sure you create a consistent backup of your data (that’s something you should be doing periodically anyway) so you can restore it in case things go wrong. In addition to that, also make sure you periodically test the recovery process and restore from backups since backups which aren’t tested are the same as no backups.</p>
<h2>Python runner actions can now return an optional status</h2>
<p>Python runner actions can now return a status (succeeded, failed) along with with the result by returning a tuple from the run() method.</p>
<p>Previously the only way for the Python runner action to be considered as failed was by throwing an exception or exiting with a non-zero exit code. Problem with this approach was that it wasn’t directly possible to return data (aka result) with the failed actions. This was especially problematic inside workflows where you usually also want to pass some data along even if the action fails.</p>
<div id="gist38500076" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-my_echo_action-py" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tr>
        <td id="file-my_echo_action-py-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-my_echo_action-py-LC1" class="blob-code blob-code-inner js-file-line">
<span class="pl-k">import</span> sys</td>
      </tr>
      <tr>
        <td id="file-my_echo_action-py-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-my_echo_action-py-LC2" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-my_echo_action-py-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-my_echo_action-py-LC3" class="blob-code blob-code-inner js-file-line">
<span class="pl-k">from</span> st2actions.runners.pythonrunner <span class="pl-k">import</span> Action</td>
      </tr>
      <tr>
        <td id="file-my_echo_action-py-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-my_echo_action-py-LC4" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-my_echo_action-py-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-my_echo_action-py-LC5" class="blob-code blob-code-inner js-file-line">
<span class="pl-k">class</span> <span class="pl-en">MyEchoAction</span>(<span class="pl-e">Action</span>):</td>
      </tr>
      <tr>
        <td id="file-my_echo_action-py-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-my_echo_action-py-LC6" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">def</span> <span class="pl-en">run</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>, <span class="pl-smi">message</span>):</td>
      </tr>
      <tr>
        <td id="file-my_echo_action-py-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-my_echo_action-py-LC7" class="blob-code blob-code-inner js-file-line">        <span class="pl-c1">print</span>(message)</td>
      </tr>
      <tr>
        <td id="file-my_echo_action-py-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-my_echo_action-py-LC8" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-my_echo_action-py-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-my_echo_action-py-LC9" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> message <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&#39;</span>working<span class="pl-pds">&#39;</span></span>
</td>
      </tr>
      <tr>
        <td id="file-my_echo_action-py-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-my_echo_action-py-LC10" class="blob-code blob-code-inner js-file-line">            <span class="pl-c"><span class="pl-c">#</span> If value &quot;working&quot; is passed for parameter &quot;message&quot;, action status will</span>
</td>
      </tr>
      <tr>
        <td id="file-my_echo_action-py-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-my_echo_action-py-LC11" class="blob-code blob-code-inner js-file-line">            <span class="pl-c"><span class="pl-c">#</span> succeed (first item in the tuple indicates success - success flag is True)</span>
</td>
      </tr>
      <tr>
        <td id="file-my_echo_action-py-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-my_echo_action-py-LC12" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">return</span> (<span class="pl-c1">True</span>, message)</td>
      </tr>
      <tr>
        <td id="file-my_echo_action-py-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-my_echo_action-py-LC13" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="file-my_echo_action-py-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-my_echo_action-py-LC14" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"><span class="pl-c">#</span> If any other value is passed in for parameter &quot;message&quot;, action will fail (second</span>
</td>
      </tr>
      <tr>
        <td id="file-my_echo_action-py-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-my_echo_action-py-LC15" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"><span class="pl-c">#</span> item in the tuple indicates failure - success flag is False)</span>
</td>
      </tr>
      <tr>
        <td id="file-my_echo_action-py-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-my_echo_action-py-LC16" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">return</span> (<span class="pl-c1">False</span>, message)</td>
      </tr>
</table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/Kami/b4f06f94a8fddd7f8dc9b03b69a8e95a/raw/81be2e3901c6f778552f18825f21813ad2430430/my_echo_action.py" style="float:right">view raw</a>
        <a href="https://gist.github.com/Kami/b4f06f94a8fddd7f8dc9b03b69a8e95a#file-my_echo_action-py">my_echo_action.py</a>
        hosted with &#10084; by <a href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

<p>Users utilized various approaches to work-around this limitation, but due to native support this is now not needed anymore.</p>
<p>This feature is fully backward-compatible unless you have an existing Python runner action which returns a tuple with two items. If that’s the case, you need to update your action to either return a list or return a tuple with status as described in the <a href="https://docs.stackstorm.com/upgrade_notes.html#st2-in-development">Upgrade Notes</a>.</p>
<h2>Access to datastore values inside Mistral workflows</h2>
<p>One of the long requested features from our users was ability to access the values in the datastore inside the Mistral workflows. This was already possible in action-chain workflows using Jinja template notations (e.g. {{system.my_key}}), but not in Mistral workflows.</p>
<p>Since StackStorm v1.6.0 you can now access datastore variables inside the Mistral workflows using <strong>st2kv()</strong> function as shown below.</p>
<h3>Accessing a global (non-scoped) datastore item</h3>
<div id="gist38498782" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mistral-yaql-st2kv-system-scope-yaml" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-yaml ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tr>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-LC1" class="blob-code blob-code-inner js-file-line">
<span class="pl-ent">version</span>: <span class="pl-s"><span class="pl-pds">&#39;</span>2.0<span class="pl-pds">&#39;</span></span>
</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-LC2" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-LC3" class="blob-code blob-code-inner js-file-line">
<span class="pl-ent">examples.mistral-yaql-st2kv-system-scope</span>:</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">vars</span>:</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-LC5" class="blob-code blob-code-inner js-file-line">        <span class="pl-ent">foobar</span>: <span class="pl-s">unspecified</span>
</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-LC6" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">tasks</span>:</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-LC7" class="blob-code blob-code-inner js-file-line">        <span class="pl-ent">task1</span>:</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-LC8" class="blob-code blob-code-inner js-file-line">            <span class="pl-ent">action</span>: <span class="pl-s">std.noop</span>
</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-LC9" class="blob-code blob-code-inner js-file-line">            <span class="pl-ent">publish</span>:</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-LC10" class="blob-code blob-code-inner js-file-line">                <span class="pl-ent">foobar</span>: <span class="pl-s">&lt;% st2kv(&#39;system.foobar&#39;) %&gt;</span>
</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-LC11" class="blob-code blob-code-inner js-file-line">            <span class="pl-ent">on-complete</span>:</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-mistral-yaql-st2kv-system-scope-yaml-LC12" class="blob-code blob-code-inner js-file-line">                - <span class="pl-ent">fail</span>: <span class="pl-s">&lt;% $.foobar != foobar %&gt;</span>
</td>
      </tr>
</table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/Kami/06eb27eafc0e9b44ea23adb68d9a903f/raw/39a2a4ea2da385b3a42eaa29f8c9a3c50f17148f/mistral-yaql-st2kv-system-scope.yaml" style="float:right">view raw</a>
        <a href="https://gist.github.com/Kami/06eb27eafc0e9b44ea23adb68d9a903f#file-mistral-yaql-st2kv-system-scope-yaml">mistral-yaql-st2kv-system-scope.yaml</a>
        hosted with &#10084; by <a href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

<h3>Access a user-scoped datastore item</h3>
<div id="gist38498812" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mistral-yaql-st2kv-user-scope-yaml" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-yaml ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tr>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-LC1" class="blob-code blob-code-inner js-file-line">
<span class="pl-ent">version</span>: <span class="pl-s"><span class="pl-pds">&#39;</span>2.0<span class="pl-pds">&#39;</span></span>
</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-LC2" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-LC3" class="blob-code blob-code-inner js-file-line">
<span class="pl-ent">examples.mistral-yaql-st2kv-user-scope</span>:</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">vars</span>:</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-LC5" class="blob-code blob-code-inner js-file-line">        <span class="pl-ent">polo</span>: <span class="pl-s">unspecified</span>
</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-LC6" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">tasks</span>:</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-LC7" class="blob-code blob-code-inner js-file-line">        <span class="pl-ent">task1</span>:</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-LC8" class="blob-code blob-code-inner js-file-line">            <span class="pl-ent">action</span>: <span class="pl-s">std.noop</span>
</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-LC9" class="blob-code blob-code-inner js-file-line">            <span class="pl-ent">publish</span>:</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-LC10" class="blob-code blob-code-inner js-file-line">                <span class="pl-ent">polo</span>: <span class="pl-s">&lt;% st2kv(&#39;marco&#39;) %&gt;</span>
</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-LC11" class="blob-code blob-code-inner js-file-line">            <span class="pl-ent">on-complete</span>:</td>
      </tr>
      <tr>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-mistral-yaql-st2kv-user-scope-yaml-LC12" class="blob-code blob-code-inner js-file-line">                - <span class="pl-ent">fail</span>: <span class="pl-s">&lt;% $.polo != polo %&gt;</span>
</td>
      </tr>
</table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/Kami/70ee9c33ac984f96e35916bacc29e904/raw/fa1f7bda902713ddc145820bfd9f5f7ea491f58a/mistral-yaql-st2kv-user-scope.yaml" style="float:right">view raw</a>
        <a href="https://gist.github.com/Kami/70ee9c33ac984f96e35916bacc29e904#file-mistral-yaql-st2kv-user-scope-yaml">mistral-yaql-st2kv-user-scope.yaml</a>
        hosted with &#10084; by <a href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

<p>For more information, please refer to the documentation &#8211; <a href="https://docs.stackstorm.com/latest/mistral_yaql.html">Mistral + YAQL</a>.</p>
<h2>Internal green-thread pool improvements</h2>
<p>In some edge cases when running a lot of concurrent action-chain workflows coupled with action.concurrency delay policy, StackStorm action runner processes could dead lock.</p>
<p>The issue was hiding in the action-chain implementation and a size of an internal green-thread pool used by the action runner process.</p>
<p>To alleviate this issue, we have changed implementation a bit to utilize two green-thread pools (one for regular actions and one for workflows). In addition to that, we also exposed two new config options which allow StackStorm administrators to tune those pool sizes to their specific workloads &#8211; <a href="https://docs.stackstorm.com/latest/troubleshooting/tuning_action_runner_dispatcher_pool.html">Tuning action runner dispatcher pool size</a>.</p>
<p>This issue was originally reported by Brian Martin who <a href="/2016/07/26/chasing-bugs-best-users/">we would like to thank</a>. Brian opened a <a href="https://github.com/StackStorm/st2/issues/2814">bug report</a> which can serve as a great example to other uses. The bug report included all the necessary information (environment, log files) and code to reproduce it. In addition to that, Brian even suggested some possible solutions / workarounds for the problem.</p>
<h2>st2-register-content now fails on failure by default</h2>
<p>st2-register-content and st2ctl reload script will now exit with non-zero exit code and fail by default if a failure such as invalid resource metadata is detected.</p>
<p>Previously the script didn’t fail on failure by default and user needed to pass in “&#8211;register-fail-on-failure” flag if they wanted this to happen. That behavior was problematic and often caused users to miss out on important errors.</p>
<p>With a more sane default behavior we hope to provide a better user-experience and make it easier and faster to spot common errors such as typos and invalid resource metadata.</p>
<p>If for some reason you want to achieve old behavior you can do so by using “&#8211;register-no-fail-on-failure” flag although there should rarely be a need for that since broken / invalid resource metadata usually indicates a problem which should be resolved immediately.</p>
<h2>Other changes and improvements</h2>
<p>In addition to the changes mentioned above, StackStorm v1.6.0 also includes various ChatOps related improvements and more. For a full list of changes, please see the <a href="https://github.com/StackStorm/st2/blob/master/CHANGELOG.rst">changelog</a>.</p>	</div>
	<div class="clear"></div>
	
	
	
				<div class="pnav">
			<a class="pav left" href="/2016/07/26/chasing-bugs-best-users/">
				<span>Previous Post</span>
				<span>Chasing Bugs, and the Best Users</span>
			</a>
			<a class="pav right" href="/2016/08/23/summary-brocade-workflow-composer-nfd-12/">
				<span>Next Post</span>
				<span>Summary &#8211; Brocade Workflow Composer at NFD 12</span>
			</a>
		</div>
	</div>

	
<div id="disqus_thread"></div>
			</section>


		</div>
		<div class="clear"></div>
	

<div class="footer-wrapper">
<footer>
				<div class="fmw">
			<div class="wrp">
									<div class="colm oth ">
						<section id="text-7" class="col"><div class="scn">			<div class="textwidget">
<p><a href="http://docs.stackstorm.com/" target="_blank" rel="noopener">Documentation</a><br>
<a href="https://github.com/StackStorm" target="_blank" rel="noopener">GitHub</a><br>
<a href="../../../../index.html#community" target="_blank" rel="noopener">Community</a><br>
<a href="../../../../security/index.html" target="_blank" rel="noopener">Security</a></p>
</div>
		</div></section>					</div>
									<div class="colm oth ">
						<section id="text-8" class="col"><div class="scn">			<div class="textwidget">
<p><a href="../../../../blog/index.html">Blog</a><br>
<a href="https://www.youtube.com/channel/UCColc5CuBJ8-1SnALnkDz8Q">Video Gallery</a><br>
<a href="/privacy-policy">Privacy Policy</a></p>
</div>
		</div></section>					</div>
									<div class="colm oth lst">
						<section id="text-9" class="col"><div class="scn">			<div class="textwidget">
<div style="line-height:1.7em;">
<a href="../../../../contact/index.html">Contact</a><br>

<div class="ic-social">
<a href="https://www.facebook.com/stackstormdevops" target="_blank" rel="noopener"><i class="fa fa-facebook-square"></i></a>
<a href="https://twitter.com/StackStorm" target="_blank" rel="noopener"><i class="fa fa-twitter-square"></i></a>
<a href="https://www.linkedin.com/company/stackstorm" target="_blank" rel="noopener"><i class="fa fa-linkedin-square"></i></a>
<a href="https://github.com/StackStorm" target="_blank" rel="noopener"><i class="fa fa-github-square"></i></a>
<a href="https://www.youtube.com/channel/UCColc5CuBJ8-1SnALnkDz8Q" target="_blank" rel="noopener"><i class="fa fa-youtube-square"></i></a>
</div>
</div>
<style type="text/css">.tve-leads-track-ribbon-46 {
  top: 70px !important;
}
.tve-leads-track-ribbon-46 #tve_four_set {
  font-family: 'Open Sans', Helvetica, Arial, Lucida, sans-serif;
}
.tve-leads-track-ribbon-46 #tve_four_set .thrv-ribbon {
border-top: 1px solid #ddd;
    box-shadow: 0px 4px 3px -4px rgba(0,0,0,0.75);
    padding-bottom: 0px !important;
    padding-top: 0px !important;
    border-right: none;
    border-left: none;
}
.tve-leads-track-ribbon-46 .bold_text {
  font-weight: normal;
}
.tve-leads-track-ribbon-46 #tve_four_set .tve-ribbon-close {
height: 30px;
    border-color: white;
    color: white;
    font-family: sans-serif;
    border-width: 2px;
    top: 50%;
    margin-top: -15px;
    font-size: 18px;
    font-weight: 800;
}</style>
</div>
		</div></section>					</div>
								<div class="clear"></div>
			</div>
		</div>
		<div class="fmm">
		<div class="wrp">
			<div class="ft-m">
							</div>
		</div>
		<div class="wrp">
			<div class="ft-c">
				<p>
											© 2021 StackStorm a Series of LF Projects, LLC. All rights reserved. For web site terms of use, trademark policy and other project policies please see <a href="https://lfprojects.org/">https://lfprojects.org/</a>. 
<br>For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage">Trademark Usage</a> page. Linux is a registered trademark of Linus Torvalds.  <a href="https://www.linuxfoundation.org/privacy">Privacy Policy</a> and <a href="https://www.linuxfoundation.org/terms">Terms of Use</a>.														</p>
			</div>
			<div class="ft-s">
												<ul>
																																		</ul>
			</div>
		</div>
		<div class="clear"></div>
	</div>
	</footer>
</div>


<!--googleoff: all--><div id="cookie-law-info-bar" data-nosnippet="true"><span>We use cookies for traffic analytics and ad and content personalization. By clicking on any of the content or interacting with any section of this website,<br>you are agreeing to this use of cookies in the manner described in our <a href="/privacy-policy" id="CONSTANT_OPEN_URL" target="_blank" class="cli-plugin-main-link" style="display:inline-block;">Privacy Policy</a> <a role="button" tabindex="0" data-cli_action="accept" id="cookie_action_close_header" class="cli-plugin-main-button cookie_action_close_header cli_action_button" style="display:inline-block; ">close [x]</a></span></div>
<div id="cookie-law-info-again" style="display:none;" data-nosnippet="true"><span id="cookie_hdr_showagain">Privacy & Cookies Policy</span></div>
<div class="cli-modal" data-nosnippet="true" id="cliSettingsPopup" tabindex="-1" role="dialog" aria-labelledby="cliSettingsPopup" aria-hidden="true">
  <div class="cli-modal-dialog" role="document">
	<div class="cli-modal-content cli-bar-popup">
	  	<button type="button" class="cli-modal-close" id="cliModalClose">
			<svg class="" viewbox="0 0 24 24"><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg>
			<span class="wt-cli-sr-only">Close</span>
	  	</button>
	  	<div class="cli-modal-body">
			<div class="cli-container-fluid cli-tab-container">
	<div class="cli-row">
		<div class="cli-col-12 cli-align-items-stretch cli-px-0">
			<div class="cli-privacy-overview">
				<h4>Privacy Overview</h4>				<div class="cli-privacy-content">
					<div class="cli-privacy-content-text">This website uses cookies to improve your experience while you navigate through the website. Out of these, the cookies that are categorized as necessary are stored on your browser as they are essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may affect your browsing experience.</div>
				</div>
				<a class="cli-privacy-readmore" aria-label="Show more" tabindex="0" role="button" data-readmore-text="Show more" data-readless-text="Show less"></a>			</div>
		</div>
		<div class="cli-col-12 cli-align-items-stretch cli-px-0 cli-tab-section-container">
												<div class="cli-tab-section">
						<div class="cli-tab-header">
							<a role="button" tabindex="0" class="cli-nav-link cli-settings-mobile" data-target="necessary" data-toggle="cli-toggle-tab">
								Necessary							</a>
							<div class="wt-cli-necessary-checkbox">
                        <input type="checkbox" class="cli-user-preference-checkbox" id="wt-cli-checkbox-necessary" data-id="checkbox-necessary" checked>
                        <label class="form-check-label" for="wt-cli-checkbox-necessary">Necessary</label>
                    </div>
                    <span class="cli-necessary-caption">Always Enabled</span> 						</div>
						<div class="cli-tab-content">
							<div class="cli-tab-pane cli-fade" data-id="necessary">
								<p>Necessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.</p>
							</div>
						</div>
					</div>
																	<div class="cli-tab-section">
						<div class="cli-tab-header">
							<a role="button" tabindex="0" class="cli-nav-link cli-settings-mobile" data-target="non-necessary" data-toggle="cli-toggle-tab">
								Non-necessary							</a>
							<div class="cli-switch">
                        <input type="checkbox" id="wt-cli-checkbox-non-necessary" class="cli-user-preference-checkbox" data-id="checkbox-non-necessary" checked>
                        <label for="wt-cli-checkbox-non-necessary" class="cli-slider" data-cli-enable="Enabled" data-cli-disable="Disabled"><span class="wt-cli-sr-only">Non-necessary</span></label>
                    </div>						</div>
						<div class="cli-tab-content">
							<div class="cli-tab-pane cli-fade" data-id="non-necessary">
								<p>Any cookies that may not be particularly necessary for the website to function and is used specifically to collect user personal data via analytics, ads, other embedded contents are termed as non-necessary cookies. It is mandatory to procure user consent prior to running these cookies on your website.</p>
							</div>
						</div>
					</div>
										</div>
	</div>
</div>
	  	</div>
	  	<div class="cli-modal-footer">
			<div class="wt-cli-element cli-container-fluid cli-tab-container">
				<div class="cli-row">
					<div class="cli-col-12 cli-align-items-stretch cli-px-0">
						<div class="cli-tab-footer wt-cli-privacy-overview-actions">
						
															<a id="wt-cli-privacy-save-btn" role="button" tabindex="0" data-cli-action="accept" class="wt-cli-privacy-btn cli_setting_save_button wt-cli-privacy-accept-btn cli-btn">SAVE & ACCEPT</a>
													</div>
						
					</div>
				</div>
			</div>
		</div>
	</div>
  </div>
</div>
<div class="cli-modal-backdrop cli-fade cli-settings-overlay"></div>
<div class="cli-modal-backdrop cli-fade cli-popupbar-overlay"></div>
<!--googleon: all--><script type="text/javascript">/**
 * Displays toast message from storage, it is used when the user is redirected after login
 */
if ( window.sessionStorage ) {
	window.addEventListener( 'load', function () {
		var message = sessionStorage.getItem( 'tcb_toast_message' );

		if ( message ) {
			tcbToast( sessionStorage.getItem( 'tcb_toast_message' ), false );
			sessionStorage.removeItem( 'tcb_toast_message' );
		}
	} );
}

/**
 * Displays toast message
 */
function tcbToast( message, error, callback ) {
	/* Also allow "message" objects */
	if ( typeof message !== 'string' ) {
		message = message.message || message.error || message.success;
	}
	if ( ! error ) {
		error = false;
	}

	let _icon = 'checkmark',
		_extra_class = '';
	if ( error ) {
		_icon = 'cross';
		_extra_class = ' tve-toast-error';
	}

	jQuery( 'body' ).slideDown( 'fast', function () {
		jQuery( 'body' ).prepend( '<div class="tvd-toast tve-fe-message"><div class="tve-toast-message"><div class="tve-toast-icon-container' + _extra_class + '"><span class="tve_tick thrv-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" class="tcb-checkmark" style="width: 100%; height: 1em; stroke-width: 0; fill: #ffffff; stroke: #ffffff;" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z"><\/path><\/svg><\/span><\/div><div class="tve-toast-message-container">' + message + '<\/div><\/div><\/div>' );
	} );

	setTimeout( function () {
		jQuery( '.tvd-toast' ).hide();

		if ( typeof callback === 'function' ) {
			callback();
		}

	}, 3000 );
}
</script><link rel="stylesheet" id="jcarouselresponsive-css" href="../../../../wp/wp-content/plugins/easy-logo-slider/css/jcarouselresponsive.css?ver=09e48cfb58fec140b4ee0c6d1d4da1b2" type="text/css" media="all">
<link rel="stylesheet" id="style-admin-css" href="../../../../wp/wp-content/plugins/easy-logo-slider/css/style-admin.css?ver=09e48cfb58fec140b4ee0c6d1d4da1b2" type="text/css" media="all">
<script type="text/javascript" id="disqus_count-js-extra">
/* <![CDATA[ */
var countVars = {"disqusShortname":"stackstorm"};
/* ]]> */
</script>
<script type="text/javascript" src="../../../../wp/wp-content/plugins/disqus-comment-system/public/js/comment_count.js?ver=3.0.22" id="disqus_count-js"></script>
<script type="text/javascript" id="disqus_embed-js-extra">
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.22"},"disqusIdentifier":"5857 http:\/\/stackstorm.com\/?p=5857","disqusShortname":"stackstorm","disqusTitle":"StackStorm v1.6.0 is here","disqusUrl":"\/2016\/08\/10\/stackstorm-v1-6-0\/","postId":"5857"};
/* ]]> */
</script>
<script type="text/javascript" src="../../../../wp/wp-content/plugins/disqus-comment-system/public/js/comment_embed.js?ver=3.0.22" id="disqus_embed-js"></script>
<script type="text/javascript" id="thrive-main-script-js-extra">
/* <![CDATA[ */
var ThriveApp = {"ajax_url":"\/wp\/wp-admin\/admin-ajax.php","is_singular":"1","post_type":"post","lazy_load_comments":"0","comments_loaded":"0","theme_uri":"\/wp\/wp-content\/themes\/rise","translations":{"ProductDetails":"Product Details"}};
/* ]]> */
</script>
<script type="text/javascript" src="../../../../wp/wp-content/themes/rise/js/script.js?v=1.101.1" id="thrive-main-script-js"></script>
<script type="text/javascript" id="tve-dash-frontend-js-extra">
/* <![CDATA[ */
var tve_dash_front = {"ajaxurl":"\/wp\/wp-admin\/admin-ajax.php","force_ajax_send":"","is_crawler":"1","recaptcha":[]};
/* ]]> */
</script>
<script type="text/javascript" src="../../../../wp/wp-content/themes/rise/thrive-dashboard/js/dist/frontend.min.js?ver=2.4.0.1" id="tve-dash-frontend-js"></script>
<script type="text/javascript" src="../../../../wp/wp-content/plugins/enlighter/cache/enlighterjs.min.js?ver=c8vUwCl5jS8Iu00" id="enlighterjs-js"></script>
<script type="text/javascript" id="enlighterjs-js-after">
!function(e,n){if("undefined"!=typeof EnlighterJS){var o={"selectors":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"options":{"indent":2,"ampersandCleanup":true,"linehover":true,"rawcodeDbclick":false,"textOverflow":"break","linenumbers":false,"theme":"beyond","language":"python","retainCssClasses":false,"collapse":false,"toolbarOuter":"","toolbarTop":"{BTN_RAW}{BTN_COPY}{BTN_WINDOW}{BTN_WEBSITE}","toolbarBottom":""}};(e.EnlighterJSINIT=function(){EnlighterJS.init(o.selectors.block,o.selectors.inline,o.options)})()}else{(n&&(n.error||n.log)||function(){})("Error: EnlighterJS resources not loaded yet!")}}(window,console);
</script>
<script type="text/javascript" src="../../../../wp/wp-includes/js/wp-embed.min.js?ver=09e48cfb58fec140b4ee0c6d1d4da1b2" id="wp-embed-js"></script>
<script type="text/javascript">var tcb_post_lists=JSON.parse('[]');</script>
</div>
</body>
</html>