<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>StackStorm QuickTip: ChatOps your pack dev workflow | StackStorm</title>
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content="by James Fryman
Happy Monday! In today’s StackStorm quick tip, we are going to show you a way to rapidly test and deploy packs. This technique pairs a StackStorm action, packs.install, and an Action-Alias that we will create to allow users to rapidly test and deploy new ChatOps commands for themselves.
Let’s just dive in!">
<meta name=generator content="Hugo 0.89.2">
<meta name=ROBOTS content="NOINDEX, NOFOLLOW">
<link rel=stylesheet href=/stackstorm.com/ananke/css/main.min.css>
<meta property="og:title" content="StackStorm QuickTip: ChatOps your pack dev workflow">
<meta property="og:description" content="by James Fryman
Happy Monday! In today’s StackStorm quick tip, we are going to show you a way to rapidly test and deploy packs. This technique pairs a StackStorm action, packs.install, and an Action-Alias that we will create to allow users to rapidly test and deploy new ChatOps commands for themselves.
Let’s just dive in!">
<meta property="og:type" content="article">
<meta property="og:url" content="https://stackstorm.github.io/stackstorm.com/2016/01/25/stackstorm-quicktip-shorten-pack-development-feedback-loop/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2016-01-25T18:29:28+00:00">
<meta property="article:modified_time" content="2016-01-25T18:29:28+00:00">
<meta itemprop=name content="StackStorm QuickTip: ChatOps your pack dev workflow">
<meta itemprop=description content="by James Fryman
Happy Monday! In today’s StackStorm quick tip, we are going to show you a way to rapidly test and deploy packs. This technique pairs a StackStorm action, packs.install, and an Action-Alias that we will create to allow users to rapidly test and deploy new ChatOps commands for themselves.
Let’s just dive in!"><meta itemprop=datePublished content="2016-01-25T18:29:28+00:00">
<meta itemprop=dateModified content="2016-01-25T18:29:28+00:00">
<meta itemprop=wordCount content="574">
<meta itemprop=keywords content><meta name=twitter:card content="summary">
<meta name=twitter:title content="StackStorm QuickTip: ChatOps your pack dev workflow">
<meta name=twitter:description content="by James Fryman
Happy Monday! In today’s StackStorm quick tip, we are going to show you a way to rapidly test and deploy packs. This technique pairs a StackStorm action, packs.install, and an Action-Alias that we will create to allow users to rapidly test and deploy new ChatOps commands for themselves.
Let’s just dive in!">
</head>
<body class="ma0 avenir bg-near-white">
<header>
<div class=bg-black>
<nav class="pv3 ph3 ph4-ns" role=navigation>
<div class="flex-l justify-between items-center center">
<a href=/stackstorm.com/ class="f3 fw2 hover-white no-underline white-90 dib">
StackStorm
</a>
<div class="flex-l items-center">
</div>
</div>
</nav>
</div>
</header>
<main class=pb7 role=main>
<article class="flex-l flex-wrap justify-between mw8 center ph3">
<header class="mt4 w-100">
<aside class="instapaper_ignoref b helvetica tracked">
POSTS
</aside>
<div id=sharing class=mt3>
<a href="https://www.facebook.com/sharer.php?u=https://stackstorm.github.io/stackstorm.com/2016/01/25/stackstorm-quicktip-shorten-pack-development-feedback-loop/" class="facebook no-underline" aria-label="share on Facebook"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765 50.32h6.744V33.998h4.499l.596-5.624h-5.095l.007-2.816c0-1.466.14-2.253 2.244-2.253h2.812V17.68h-4.5c-5.405.0-7.307 2.729-7.307 7.317v3.377h-3.369v5.625h3.369V50.32zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg>
</a>
<a href="https://twitter.com/share?url=https://stackstorm.github.io/stackstorm.com/2016/01/25/stackstorm-quicktip-shorten-pack-development-feedback-loop/&text=StackStorm%20QuickTip:%20ChatOps%20your%20pack%20dev%20workflow" class="twitter no-underline" aria-label="share on Twitter"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg>
</a>
<a href="https://www.linkedin.com/shareArticle?mini=true&url=https://stackstorm.github.io/stackstorm.com/2016/01/25/stackstorm-quicktip-shorten-pack-development-feedback-loop/&title=StackStorm%20QuickTip:%20ChatOps%20your%20pack%20dev%20workflow" class="linkedin no-underline" aria-label="share on LinkedIn"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg>
</a>
</div>
<h1 class="f1 athelas mt3 mb1">StackStorm QuickTip: ChatOps your pack dev workflow</h1>
<p class=tracked>
By <strong>
st2admin
</strong>
</p>
<time class="f6 mv4 dib tracked" datetime=2016-01-25T18:29:28Z>January 25, 2016</time>
</header>
<div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p><em>by James Fryman</em></p>
<p>Happy Monday! In today’s StackStorm quick tip, we are going to show you a way to rapidly test and deploy packs. This technique pairs a StackStorm action, <a href=https://github.com/StackStorm/st2/blob/master/contrib/packs/actions/install.meta.yaml><code>packs.install</code></a>, and an <a href=https://docs.stackstorm.com/chatops/aliases.html>Action-Alias</a> that we will create to allow users to rapidly test and deploy new ChatOps commands for themselves.</p>
<p>Let’s just dive in!</p>
<h1 id=optstackstormpacksst2-flowaliasesflow_deployyaml>/opt/stackstorm/packs/st2-flow/aliases/flow_deploy.yaml</h1>
<pre><code>---
name: &quot;flow_deploy&quot;
pack: &quot;st2-flow&quot;
action_ref: &quot;packs.install&quot;
formats:
  - display: &quot;flow deploy {{ branch }}&quot;
    representation:
      - &quot;{{register=all}} {{packs=st2-flow}} {{repo_url=git@github.com:websages/st2-flow}} flow deploy {{branch=master}}&quot;
ack:
  format: &quot;Deploying flow ... standby ...&quot;
result:
  format: |
    {% if execution.status == 'failed' %}
    Oh no! Failure. Check the execution results in the web console{~}
    {% else %}
    Successfully deployed flow{~}
    {% endif %}
</code></pre>
<p>Imagine if you asked your colleagues to type in that long line <em>every single time</em> they wanted to deploy a pack. It would never be used. However, a simple ChatOps alias, and now it is simple as a single chat command. Using something like this significantly decreases the barrier to entry of experimentation/learning/growing of StackStorm. Folks will be more apt to try something if they see and use tools that give them nearly immediate feedback and know they can safely revert to a known state if need be.</p>
<p>Easy win.</p>
<p>This also has an added benefit of enabling StackStorm adaptable to change. This is absolutely necessary for a successful implementation. When you get feedback, you can quickly turn concerns into wins and previous folks who might have been detractors will become quick allies. It is not hard to see the possibilities once the lightbulb turns on. You also start teaching everyone <em>immediately</em>. Indirectly, team members will see actions being executed, and know that “this is the way to deploy StackStorm code”. It’s quick and painless.</p>
<h2 id=random-thoughts>Random Thoughts</h2>
<p><strong>Q: This action is tied directly to the <code>packs.install</code>. What about a workflow? Seems like that would be a better way to structure this.</strong></p>
<p>A: Yeah, probably. Whip that thing up, and rapidly deploy the fix. Viola. Everyone wins. You <em>absolutely</em> will find better ways to maintain this or a similar command as you learn how your users interact with it. This is functional, and also has no problems being upgraded.</p>
<p><strong>Q: I would never use this in my environment. There is no security. Anyone can run this command!</strong></p>
<p>A: That’s fantastic! I also would not suggest running something this open in a production environment. There is a sliding scale between usability and security. This is very cleary leaning toward the usability end of the spectrum. But, by being able to rapidly iterate, you could build out something like <a href="https://stackstorm.com/2016/01/21/stackstorm-and-chatops-actions-with-confirmation/?doing_wp_cron=1453746230.2963230609893798828125">Confirm ChatOps Action</a> (credit: Igor Cherkaev), and implement the security you need. Combine that with fast iterations, you can grow something suitable for even the most stringent of environments.</p>
<p><strong>Q: Could I use this pattern to deploy, say my SuperCoolDisruptingApp?</strong></p>
<p>A: YES! When you provide smart people tools to do their job, you’ll be amazed how fast they are adopted. Use ChatOps to reduce friction in daily life where possible.</p>
<h2 id=let8217s-get-going>Let’s get going!</h2>
<p>The keys: do not let great be the enemy of good, and constantly iterate. Your automation journey begins with the first step. Take this with you, it’s dangerous out there alone.</p>
<p><img src=http://stackstorm.com/wp/wp-content/uploads/2016/01/1654662.jpg alt="dangerous out there!"></p>
<p><em>Want to see more StackStorm Quick Tips or have a tip of your own share? Let us know! Send us a tweet: <a href=http://ctt.ec/b_j5a>(@Stack_Storm) with the hashtag <code>#st2quicktip</code></a></em>. Visit us at <a href=https://stackstorm.com>https://stackstorm.com</a> to learn more about the product and team.</p><ul class=pa0>
</ul>
<div class="mt6 instapaper_ignoref">
</div>
</div>
<aside class="w-30-l mt6-l">
</aside>
</article>
</main>
<footer class="bg-black bottom-0 w-100 pa3" role=contentinfo>
<div class="flex justify-between">
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://stackstorm.github.io/stackstorm.com>
&copy; StackStorm 2021
</a>
<div>
</div>
</div>
</footer>
</body>
</html>